2015-04-22 09:51:03 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 09:51:03 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 09:51:03 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x102a4c140>),UI>
2015-04-22 09:51:03 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 09:51:03 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 09:51:03 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 09:51:03 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 09:51:03 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 09:51:03 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 09:51:03 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 09:51:03 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 09:51:03 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 09:51:03 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 09:51:03 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 09:51:03 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 09:51:03 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 09:51:03 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 09:51:03 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 09:51:03 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 09:51:03 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 09:51:03 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 09:51:03 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 09:51:03 db.py      [line:175] DEBUG    Init mysql engine <0x102e64ad0> ok.
2015-04-22 09:51:03 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 09:51:03 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 09:51:03 db.py      [line:98 ] DEBUG    open connection <0x102f35490>...
2015-04-22 09:51:03 db.py      [line:112] DEBUG    close connection <0x102f35490>...
2015-04-22 09:51:03 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 09:51:03 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 09:51:03 db.py      [line:98 ] DEBUG    open connection <0x102f35490>...
2015-04-22 09:51:03 db.py      [line:112] DEBUG    close connection <0x102f35490>...
2015-04-22 09:51:03 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 09:51:11 web.py     [line:1336] INFO     return Template
2015-04-22 09:51:26 web.py     [line:1336] INFO     return Template
2015-04-22 09:51:26 web.py     [line:1336] INFO     return Template
2015-04-22 09:53:10 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 09:53:10 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 09:53:10 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x102a4c140>),UI>
2015-04-22 09:53:10 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 09:53:10 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 09:53:10 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 09:53:10 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 09:53:10 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 09:53:10 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 09:53:10 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 09:53:10 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 09:53:10 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 09:53:10 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 09:53:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 09:53:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 09:53:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 09:53:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 09:53:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 09:53:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 09:53:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 09:53:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 09:53:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 09:53:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 09:53:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 09:53:10 db.py      [line:175] DEBUG    Init mysql engine <0x102e62c50> ok.
2015-04-22 09:53:10 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 09:53:10 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 09:53:10 db.py      [line:98 ] DEBUG    open connection <0x102f34610>...
2015-04-22 09:53:10 db.py      [line:112] DEBUG    close connection <0x102f34610>...
2015-04-22 09:53:10 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 09:53:10 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 09:53:10 db.py      [line:98 ] DEBUG    open connection <0x102f34610>...
2015-04-22 09:53:10 db.py      [line:112] DEBUG    close connection <0x102f34610>...
2015-04-22 09:53:10 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 09:53:12 web.py     [line:1336] INFO     return Template
2015-04-22 09:53:12 web.py     [line:1583] ERROR    Expect return a dict when using @view() decorator.
Traceback (most recent call last):
  File "/Users/wuyadong/src/ha/utils/web.py", line 1566, in wsgi
    r = fn_exec()
  File "/Users/wuyadong/src/ha/utils/web.py", line 1542, in fn_route
    return fn()
  File "/Users/wuyadong/src/ha/utils/web.py", line 587, in __call__
    return self.func(*args)
  File "/Users/wuyadong/src/ha/utils/web.py", line 1338, in _wrapper
    raise ValueError('Expect return a dict when using @view() decorator.')
ValueError: Expect return a dict when using @view() decorator.
2015-04-22 09:54:10 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 09:54:10 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 09:54:10 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x102268140>),UI>
2015-04-22 09:54:10 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 09:54:10 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 09:54:10 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 09:54:10 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 09:54:10 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 09:54:10 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 09:54:10 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 09:54:10 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 09:54:10 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 09:54:10 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 09:54:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 09:54:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 09:54:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 09:54:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 09:54:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 09:54:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 09:54:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 09:54:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 09:54:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 09:54:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 09:54:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 09:54:10 db.py      [line:175] DEBUG    Init mysql engine <0x102662c50> ok.
2015-04-22 09:54:10 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 09:54:10 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 09:54:10 db.py      [line:98 ] DEBUG    open connection <0x102734610>...
2015-04-22 09:54:10 db.py      [line:112] DEBUG    close connection <0x102734610>...
2015-04-22 09:54:10 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 09:54:10 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 09:54:10 db.py      [line:98 ] DEBUG    open connection <0x102734610>...
2015-04-22 09:54:10 db.py      [line:112] DEBUG    close connection <0x102734610>...
2015-04-22 09:54:10 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 09:54:14 web.py     [line:1336] INFO     return Template
2015-04-22 09:54:27 web.py     [line:1336] INFO     return Template
2015-04-22 09:54:27 web.py     [line:1336] INFO     return Template
2015-04-22 09:54:28 web.py     [line:1336] INFO     return Template
2015-04-22 09:54:28 web.py     [line:1336] INFO     return Template
2015-04-22 09:54:33 web.py     [line:1336] INFO     return Template
2015-04-22 11:32:02 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x10224e140>),UI>
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 11:32:02 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 11:32:02 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 11:32:02 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 11:32:02 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 11:32:02 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:32:02 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 11:32:02 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 11:32:02 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 11:32:02 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 11:32:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 11:32:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 11:32:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 11:32:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 11:32:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 11:32:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 11:32:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 11:32:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 11:32:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 11:32:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 11:32:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 11:32:02 db.py      [line:175] DEBUG    Init mysql engine <0x102664f90> ok.
2015-04-22 11:32:02 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:02 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 11:32:02 db.py      [line:98 ] DEBUG    open connection <0x102735950>...
2015-04-22 11:32:02 db.py      [line:112] DEBUG    close connection <0x102735950>...
2015-04-22 11:32:02 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:02 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 11:32:02 db.py      [line:98 ] DEBUG    open connection <0x102735950>...
2015-04-22 11:32:02 db.py      [line:112] DEBUG    close connection <0x102735950>...
2015-04-22 11:32:02 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:02 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 11:32:02 db.py      [line:98 ] DEBUG    open connection <0x102735950>...
2015-04-22 11:32:02 db.py      [line:112] DEBUG    close connection <0x102735950>...
2015-04-22 11:32:02 entity.py  [line:67 ] ERROR    table <gwinfo> not exist, begin create it
2015-04-22 11:32:02 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:02 db.py      [line:453] DEBUG    SQL: -- generating SQL for gwinfo:
create table gwinfo (
  gw_id varchar(19) not null,
  gw_address varchar(15) not null,
  gw_port varchar(10) not null,
  primary key(gw_id)
);, ARGS: ()
2015-04-22 11:32:02 db.py      [line:98 ] DEBUG    open connection <0x102735950>...
2015-04-22 11:32:03 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:32:03 db.py      [line:112] DEBUG    close connection <0x102735950>...
2015-04-22 11:32:03 entity.py  [line:70 ] INFO     table <gwinfo> created.
2015-04-22 11:32:03 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:03 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 11:32:03 db.py      [line:98 ] DEBUG    open connection <0x102735950>...
2015-04-22 11:32:03 db.py      [line:112] DEBUG    close connection <0x102735950>...
2015-04-22 11:32:03 entity.py  [line:67 ] ERROR    table <token> not exist, begin create it
2015-04-22 11:32:03 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:03 db.py      [line:453] DEBUG    SQL: -- generating SQL for token:
create table token (
  token varchar(42) not null,
  uname varchar(42) not null,
  password varchar(42) not null,
  mac varchar(19) not null,
  status tinyint not null,
  primary key(token)
);, ARGS: ()
2015-04-22 11:32:03 db.py      [line:98 ] DEBUG    open connection <0x102735b90>...
2015-04-22 11:32:03 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:32:03 db.py      [line:112] DEBUG    close connection <0x102735b90>...
2015-04-22 11:32:03 entity.py  [line:70 ] INFO     table <token> created.
2015-04-22 11:32:03 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 11:32:10 web.py     [line:1583] ERROR    'Request' object is not callable
Traceback (most recent call last):
  File "/Users/wuyadong/src/ha/utils/web.py", line 1566, in wsgi
    r = fn_exec()
  File "/Users/wuyadong/src/ha/utils/web.py", line 1542, in fn_route
    return fn()
  File "/Users/wuyadong/src/ha/utils/web.py", line 587, in __call__
    return self.func(*args)
  File "/Users/wuyadong/src/ha/utils/web.py", line 1334, in _wrapper
    r = func(*args, **kw)
  File "/Users/wuyadong/src/ha/portal/urls.py", line 65, in login
    param = load_request_param(opt_para)
  File "/Users/wuyadong/src/ha/portal/urls.py", line 52, in load_request_param
    req = ctx.request()
TypeError: 'Request' object is not callable
2015-04-22 11:32:10 web.py     [line:1583] ERROR    'Request' object is not callable
Traceback (most recent call last):
  File "/Users/wuyadong/src/ha/utils/web.py", line 1566, in wsgi
    r = fn_exec()
  File "/Users/wuyadong/src/ha/utils/web.py", line 1542, in fn_route
    return fn()
  File "/Users/wuyadong/src/ha/utils/web.py", line 587, in __call__
    return self.func(*args)
  File "/Users/wuyadong/src/ha/utils/web.py", line 1334, in _wrapper
    r = func(*args, **kw)
  File "/Users/wuyadong/src/ha/portal/urls.py", line 65, in login
    param = load_request_param(opt_para)
  File "/Users/wuyadong/src/ha/portal/urls.py", line 52, in load_request_param
    req = ctx.request()
TypeError: 'Request' object is not callable
2015-04-22 11:32:45 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x102a4d140>),UI>
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 11:32:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 11:32:45 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 11:32:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 11:32:45 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 11:32:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:32:45 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 11:32:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 11:32:45 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 11:32:45 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 11:32:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 11:32:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 11:32:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 11:32:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 11:32:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 11:32:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 11:32:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 11:32:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 11:32:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 11:32:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 11:32:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 11:32:46 db.py      [line:175] DEBUG    Init mysql engine <0x102e64f90> ok.
2015-04-22 11:32:46 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:46 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 11:32:46 db.py      [line:98 ] DEBUG    open connection <0x102f35950>...
2015-04-22 11:32:46 db.py      [line:112] DEBUG    close connection <0x102f35950>...
2015-04-22 11:32:46 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:46 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 11:32:46 db.py      [line:98 ] DEBUG    open connection <0x102f35950>...
2015-04-22 11:32:46 db.py      [line:112] DEBUG    close connection <0x102f35950>...
2015-04-22 11:32:46 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:46 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 11:32:46 db.py      [line:98 ] DEBUG    open connection <0x102f35950>...
2015-04-22 11:32:46 db.py      [line:112] DEBUG    close connection <0x102f35950>...
2015-04-22 11:32:46 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:46 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 11:32:46 db.py      [line:98 ] DEBUG    open connection <0x102f35950>...
2015-04-22 11:32:46 db.py      [line:112] DEBUG    close connection <0x102f35950>...
2015-04-22 11:32:46 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 11:32:49 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:49 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 11:32:49 db.py      [line:98 ] DEBUG    open connection <0x102f5ce90>...
2015-04-22 11:32:49 db.py      [line:112] DEBUG    close connection <0x102f5ce90>...
2015-04-22 11:32:49 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:32:49 db.py      [line:453] DEBUG    SQL: insert into `gwinfo` (`gw_address`,`gw_port`,`gw_id`) values (%s,%s,%s), ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 11:32:49 db.py      [line:98 ] DEBUG    open connection <0x102f5cf10>...
2015-04-22 11:32:49 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:32:49 db.py      [line:112] DEBUG    close connection <0x102f5cf10>...
2015-04-22 11:32:49 web.py     [line:1336] INFO     return Template
2015-04-22 11:33:39 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:33:39 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 11:33:39 db.py      [line:98 ] DEBUG    open connection <0x102f8a090>...
2015-04-22 11:33:39 db.py      [line:112] DEBUG    close connection <0x102f8a090>...
2015-04-22 11:33:39 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:33:39 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 11:33:39 db.py      [line:98 ] DEBUG    open connection <0x102f35cd0>...
2015-04-22 11:33:39 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:33:39 db.py      [line:112] DEBUG    close connection <0x102f35cd0>...
2015-04-22 11:33:39 web.py     [line:1336] INFO     return Template
2015-04-22 11:33:42 web.py     [line:1336] INFO     return Template
2015-04-22 11:34:41 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:34:41 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 11:34:41 db.py      [line:98 ] DEBUG    open connection <0x102f8a190>...
2015-04-22 11:34:41 db.py      [line:112] DEBUG    close connection <0x102f8a190>...
2015-04-22 11:34:41 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:34:41 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 11:34:41 db.py      [line:98 ] DEBUG    open connection <0x102f8a190>...
2015-04-22 11:34:41 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:34:41 db.py      [line:112] DEBUG    close connection <0x102f8a190>...
2015-04-22 11:34:41 web.py     [line:1336] INFO     return Template
2015-04-22 11:35:15 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:35:15 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 11:35:15 db.py      [line:98 ] DEBUG    open connection <0x102f8aa50>...
2015-04-22 11:35:15 db.py      [line:112] DEBUG    close connection <0x102f8aa50>...
2015-04-22 11:35:15 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:35:15 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 11:35:15 db.py      [line:98 ] DEBUG    open connection <0x102f8aa50>...
2015-04-22 11:35:15 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:35:15 db.py      [line:112] DEBUG    close connection <0x102f8aa50>...
2015-04-22 11:35:15 web.py     [line:1336] INFO     return Template
2015-04-22 11:38:50 web.py     [line:1336] INFO     return Template
2015-04-22 11:38:50 web.py     [line:1336] INFO     return Template
2015-04-22 11:39:54 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:39:54 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 11:39:54 db.py      [line:98 ] DEBUG    open connection <0x102f8a850>...
2015-04-22 11:39:54 db.py      [line:112] DEBUG    close connection <0x102f8a850>...
2015-04-22 11:39:54 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:39:54 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 11:39:54 db.py      [line:98 ] DEBUG    open connection <0x102f8a850>...
2015-04-22 11:39:54 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:39:54 db.py      [line:112] DEBUG    close connection <0x102f8a850>...
2015-04-22 11:39:54 web.py     [line:1336] INFO     return Template
2015-04-22 11:40:35 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x103ac2f50>),UI>
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 11:40:35 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 11:40:35 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 11:40:35 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 11:40:35 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 11:40:35 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:40:35 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 11:40:35 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 11:40:35 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 11:40:35 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 11:40:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 11:40:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 11:40:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 11:40:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 11:40:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 11:40:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 11:40:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 11:40:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 11:40:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 11:40:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 11:40:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 11:40:35 db.py      [line:175] DEBUG    Init mysql engine <0x103ccd550> ok.
2015-04-22 11:40:35 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:40:35 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 11:40:35 db.py      [line:98 ] DEBUG    open connection <0x103e06150>...
2015-04-22 11:40:35 db.py      [line:112] DEBUG    close connection <0x103e06150>...
2015-04-22 11:40:35 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:40:35 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 11:40:35 db.py      [line:98 ] DEBUG    open connection <0x103e06150>...
2015-04-22 11:40:35 db.py      [line:112] DEBUG    close connection <0x103e06150>...
2015-04-22 11:40:35 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:40:35 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 11:40:35 db.py      [line:98 ] DEBUG    open connection <0x103e06150>...
2015-04-22 11:40:35 db.py      [line:112] DEBUG    close connection <0x103e06150>...
2015-04-22 11:40:35 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:40:35 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 11:40:35 db.py      [line:98 ] DEBUG    open connection <0x103e06150>...
2015-04-22 11:40:35 db.py      [line:112] DEBUG    close connection <0x103e06150>...
2015-04-22 11:40:35 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 11:40:51 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:40:51 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 11:40:51 db.py      [line:98 ] DEBUG    open connection <0x103e23dd0>...
2015-04-22 11:40:51 db.py      [line:112] DEBUG    close connection <0x103e23dd0>...
2015-04-22 11:40:59 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:40:59 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 11:40:59 db.py      [line:98 ] DEBUG    open connection <0x103e23d90>...
2015-04-22 11:40:59 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:40:59 db.py      [line:112] DEBUG    close connection <0x103e23d90>...
2015-04-22 11:41:59 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x102a4d140>),UI>
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 11:41:59 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 11:41:59 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 11:41:59 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 11:41:59 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 11:41:59 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:41:59 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 11:41:59 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 11:41:59 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 11:41:59 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 11:41:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 11:41:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 11:41:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 11:41:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 11:41:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 11:41:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 11:41:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 11:41:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 11:41:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 11:41:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 11:41:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 11:41:59 db.py      [line:175] DEBUG    Init mysql engine <0x102e69050> ok.
2015-04-22 11:41:59 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:41:59 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 11:41:59 db.py      [line:98 ] DEBUG    open connection <0x102f359d0>...
2015-04-22 11:41:59 db.py      [line:112] DEBUG    close connection <0x102f359d0>...
2015-04-22 11:41:59 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:41:59 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 11:41:59 db.py      [line:98 ] DEBUG    open connection <0x102f359d0>...
2015-04-22 11:41:59 db.py      [line:112] DEBUG    close connection <0x102f359d0>...
2015-04-22 11:41:59 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:41:59 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 11:41:59 db.py      [line:98 ] DEBUG    open connection <0x102f359d0>...
2015-04-22 11:41:59 db.py      [line:112] DEBUG    close connection <0x102f359d0>...
2015-04-22 11:41:59 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:41:59 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 11:41:59 db.py      [line:98 ] DEBUG    open connection <0x102f359d0>...
2015-04-22 11:41:59 db.py      [line:112] DEBUG    close connection <0x102f359d0>...
2015-04-22 11:41:59 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 11:42:03 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:42:03 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 11:42:03 db.py      [line:98 ] DEBUG    open connection <0x102f5ced0>...
2015-04-22 11:42:03 db.py      [line:112] DEBUG    close connection <0x102f5ced0>...
2015-04-22 11:42:03 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:42:03 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 11:42:03 db.py      [line:98 ] DEBUG    open connection <0x102f5ced0>...
2015-04-22 11:42:03 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:42:03 db.py      [line:112] DEBUG    close connection <0x102f5ced0>...
2015-04-22 11:42:03 web.py     [line:1336] INFO     return Template
2015-04-22 11:42:03 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:42:03 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 11:42:03 db.py      [line:98 ] DEBUG    open connection <0x102fa67d0>...
2015-04-22 11:42:03 db.py      [line:112] DEBUG    close connection <0x102fa67d0>...
2015-04-22 11:42:03 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:42:03 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 11:42:03 db.py      [line:98 ] DEBUG    open connection <0x102fa6850>...
2015-04-22 11:42:03 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:42:03 db.py      [line:112] DEBUG    close connection <0x102fa6850>...
2015-04-22 11:42:03 web.py     [line:1336] INFO     return Template
2015-04-22 11:42:36 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x103ac2f50>),UI>
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 11:42:36 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 11:42:36 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 11:42:36 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 11:42:36 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 11:42:36 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:42:36 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 11:42:36 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 11:42:36 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 11:42:36 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 11:42:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 11:42:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 11:42:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 11:42:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 11:42:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 11:42:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 11:42:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 11:42:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 11:42:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 11:42:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 11:42:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 11:42:36 db.py      [line:175] DEBUG    Init mysql engine <0x103ccd550> ok.
2015-04-22 11:42:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:42:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 11:42:36 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 11:42:36 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 11:42:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:42:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 11:42:36 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 11:42:36 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 11:42:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:42:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 11:42:36 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 11:42:36 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 11:42:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:42:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 11:42:36 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 11:42:36 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 11:42:36 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 11:43:04 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:43:04 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 11:43:04 db.py      [line:98 ] DEBUG    open connection <0x103d0cd50>...
2015-04-22 11:43:04 db.py      [line:112] DEBUG    close connection <0x103d0cd50>...
2015-04-22 11:43:15 web.py     [line:1583] ERROR    1146 (42S02): Table 'portal.gwinfo' doesn't exist
Traceback (most recent call last):
  File "/Users/wuyadong/src/ha/utils/web.py", line 1566, in wsgi
    r = fn_exec()
  File "/Users/wuyadong/src/ha/utils/web.py", line 1542, in fn_route
    return fn()
  File "/Users/wuyadong/src/ha/utils/web.py", line 587, in __call__
    return self.func(*args)
  File "/Users/wuyadong/src/ha/utils/web.py", line 1334, in _wrapper
    r = func(*args, **kw)
  File "/Users/wuyadong/src/ha/portal/urls.py", line 65, in login
    gw = GWInfo.get(param['gw_id'])
  File "/Users/wuyadong/src/ha/utils/orm.py", line 279, in get
    d = db.select_one('select * from %s where %s=?' % (cls.__table__, cls.__primary_key__.name), pk)
  File "/Users/wuyadong/src/ha/utils/db.py", line 228, in _wrapper
    return func(*args, **kw)
  File "/Users/wuyadong/src/ha/utils/db.py", line 388, in select_one
    return _select(sql, True, *args)
  File "/Users/wuyadong/src/ha/utils/db.py", line 353, in _select
    cursor.execute(sql, args)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mysql/connector/cursor.py", line 507, in execute
    self._handle_result(self._connection.cmd_query(stmt))
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mysql/connector/connection.py", line 722, in cmd_query
    result = self._handle_result(self._send_cmd(ServerCmd.QUERY, query))
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/mysql/connector/connection.py", line 640, in _handle_result
    raise errors.get_exception(packet)
ProgrammingError: 1146 (42S02): Table 'portal.gwinfo' doesn't exist
2015-04-22 11:51:02 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x102a4d140>),UI>
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 11:51:02 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 11:51:02 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 11:51:02 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 11:51:02 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 11:51:02 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:51:02 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 11:51:02 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 11:51:02 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 11:51:02 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 11:51:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 11:51:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 11:51:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 11:51:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 11:51:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 11:51:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 11:51:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 11:51:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 11:51:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 11:51:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 11:51:02 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 11:51:02 db.py      [line:175] DEBUG    Init mysql engine <0x102e65f90> ok.
2015-04-22 11:51:02 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:51:02 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 11:51:02 db.py      [line:98 ] DEBUG    open connection <0x102f35950>...
2015-04-22 11:51:02 db.py      [line:112] DEBUG    close connection <0x102f35950>...
2015-04-22 11:51:02 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:51:02 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 11:51:02 db.py      [line:98 ] DEBUG    open connection <0x102f35950>...
2015-04-22 11:51:02 db.py      [line:112] DEBUG    close connection <0x102f35950>...
2015-04-22 11:51:02 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:51:02 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 11:51:02 db.py      [line:98 ] DEBUG    open connection <0x102f35950>...
2015-04-22 11:51:02 db.py      [line:112] DEBUG    close connection <0x102f35950>...
2015-04-22 11:51:02 entity.py  [line:67 ] ERROR    table <gwinfo> not exist, begin create it
2015-04-22 11:51:02 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:51:02 db.py      [line:453] DEBUG    SQL: -- generating SQL for gwinfo:
create table gwinfo (
  gw_id varchar(19) not null,
  gw_address varchar(15) not null,
  gw_port varchar(10) not null,
  primary key(gw_id)
);, ARGS: ()
2015-04-22 11:51:02 db.py      [line:98 ] DEBUG    open connection <0x102f35950>...
2015-04-22 11:51:02 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:51:02 db.py      [line:112] DEBUG    close connection <0x102f35950>...
2015-04-22 11:51:02 entity.py  [line:70 ] INFO     table <gwinfo> created.
2015-04-22 11:51:02 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:51:02 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 11:51:02 db.py      [line:98 ] DEBUG    open connection <0x102f35950>...
2015-04-22 11:51:02 db.py      [line:112] DEBUG    close connection <0x102f35950>...
2015-04-22 11:51:02 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 11:51:05 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:51:05 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 11:51:05 db.py      [line:98 ] DEBUG    open connection <0x102f5ee90>...
2015-04-22 11:51:05 db.py      [line:112] DEBUG    close connection <0x102f5ee90>...
2015-04-22 11:51:05 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 11:51:05 db.py      [line:453] DEBUG    SQL: insert into `gwinfo` (`gw_address`,`gw_port`,`gw_id`) values (%s,%s,%s), ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 11:51:05 db.py      [line:98 ] DEBUG    open connection <0x102f5ef10>...
2015-04-22 11:51:05 db.py      [line:460] DEBUG    auto commit
2015-04-22 11:51:05 db.py      [line:112] DEBUG    close connection <0x102f5ef10>...
2015-04-22 11:51:05 web.py     [line:1336] INFO     return Template
2015-04-22 14:34:09 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x102a4d140>),UI>
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 14:34:09 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 14:34:09 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 14:34:09 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 14:34:09 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 14:34:09 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 14:34:09 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 14:34:09 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 14:34:09 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 14:34:09 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 14:34:09 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 14:34:09 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 14:34:09 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 14:34:09 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 14:34:09 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 14:34:09 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 14:34:09 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 14:34:09 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 14:34:09 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 14:34:09 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 14:34:09 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 14:34:09 db.py      [line:175] DEBUG    Init mysql engine <0x102e6a050> ok.
2015-04-22 14:34:09 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 14:34:09 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 14:34:09 db.py      [line:98 ] DEBUG    open connection <0x102f359d0>...
2015-04-22 14:34:09 db.py      [line:112] DEBUG    close connection <0x102f359d0>...
2015-04-22 14:34:09 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 14:34:09 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 14:34:09 db.py      [line:98 ] DEBUG    open connection <0x102f359d0>...
2015-04-22 14:34:09 db.py      [line:112] DEBUG    close connection <0x102f359d0>...
2015-04-22 14:34:09 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 14:34:09 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 14:34:09 db.py      [line:98 ] DEBUG    open connection <0x102f359d0>...
2015-04-22 14:34:09 db.py      [line:112] DEBUG    close connection <0x102f359d0>...
2015-04-22 14:34:09 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 14:34:09 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 14:34:09 db.py      [line:98 ] DEBUG    open connection <0x102f359d0>...
2015-04-22 14:34:09 db.py      [line:112] DEBUG    close connection <0x102f359d0>...
2015-04-22 14:34:09 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:32:57 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x101eb9f50>),UI>
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:32:57 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:32:57 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:32:57 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:32:57 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:32:57 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:32:57 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:32:57 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:32:57 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:32:57 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:32:57 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:32:57 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:32:57 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:32:57 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:32:57 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:32:57 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:32:57 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:32:57 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:32:57 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:32:57 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:32:57 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:32:57 db.py      [line:175] DEBUG    Init mysql engine <0x103cd94d0> ok.
2015-04-22 15:32:57 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:32:57 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:32:57 db.py      [line:98 ] DEBUG    open connection <0x103d110d0>...
2015-04-22 15:32:57 db.py      [line:112] DEBUG    close connection <0x103d110d0>...
2015-04-22 15:32:57 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:32:57 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:32:57 db.py      [line:98 ] DEBUG    open connection <0x103d110d0>...
2015-04-22 15:32:57 db.py      [line:112] DEBUG    close connection <0x103d110d0>...
2015-04-22 15:32:57 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:32:57 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:32:57 db.py      [line:98 ] DEBUG    open connection <0x103d110d0>...
2015-04-22 15:32:57 db.py      [line:112] DEBUG    close connection <0x103d110d0>...
2015-04-22 15:32:57 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:32:57 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:32:57 db.py      [line:98 ] DEBUG    open connection <0x103d110d0>...
2015-04-22 15:32:57 db.py      [line:112] DEBUG    close connection <0x103d110d0>...
2015-04-22 15:32:57 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:34:35 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x103ac2f50>),UI>
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:34:35 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:34:35 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:34:35 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:34:35 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:34:35 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:34:35 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:34:35 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:34:35 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:34:35 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:34:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:34:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:34:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:34:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:34:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:34:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:34:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:34:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:34:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:34:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:34:35 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:34:36 db.py      [line:175] DEBUG    Init mysql engine <0x103cb6510> ok.
2015-04-22 15:34:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:34:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:34:36 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:34:36 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:34:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:34:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:34:36 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:34:36 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:34:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:34:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:34:36 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:34:36 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:34:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:34:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:34:36 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:34:36 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:34:36 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:35:59 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x103ac2f50>),UI>
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:35:59 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:35:59 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:35:59 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:35:59 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:35:59 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:35:59 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:35:59 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:35:59 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:35:59 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:35:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:35:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:35:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:35:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:35:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:35:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:35:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:35:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:35:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:35:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:35:59 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:36:00 db.py      [line:175] DEBUG    Init mysql engine <0x103cb6510> ok.
2015-04-22 15:36:00 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:36:00 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:36:00 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:36:00 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:36:00 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:36:00 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:36:00 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:36:00 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:36:00 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:36:00 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:36:00 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:36:00 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:36:00 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:36:00 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:36:00 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:36:00 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:36:00 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:39:28 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x103ac2f50>),UI>
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:39:28 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:39:28 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:39:28 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:39:28 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:39:28 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:39:28 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:39:28 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:39:28 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:39:28 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:39:28 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:39:28 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:39:28 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:39:28 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:39:28 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:39:28 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:39:28 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:39:28 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:39:28 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:39:28 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:39:28 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:39:28 db.py      [line:175] DEBUG    Init mysql engine <0x103cb6510> ok.
2015-04-22 15:39:28 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:39:28 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:39:28 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:39:28 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:39:28 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:39:28 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:39:28 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:39:28 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:39:28 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:39:28 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:39:28 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:39:28 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:39:28 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:39:28 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:39:28 db.py      [line:98 ] DEBUG    open connection <0x103cf1110>...
2015-04-22 15:39:28 db.py      [line:112] DEBUG    close connection <0x103cf1110>...
2015-04-22 15:39:28 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:39:39 web.py     [line:1583] ERROR    Expect return a dict when using @view() decorator.
Traceback (most recent call last):
  File "/Users/wuyadong/src/ha/utils/web.py", line 1566, in wsgi
    r = fn_exec()
  File "/Users/wuyadong/src/ha/utils/web.py", line 1542, in fn_route
    return fn()
  File "/Users/wuyadong/src/ha/utils/web.py", line 587, in __call__
    return self.func(*args)
  File "/Users/wuyadong/src/ha/utils/web.py", line 1338, in _wrapper
    raise ValueError('Expect return a dict when using @view() decorator.')
ValueError: Expect return a dict when using @view() decorator.
2015-04-22 15:39:47 web.py     [line:1583] ERROR    Expect return a dict when using @view() decorator.
Traceback (most recent call last):
  File "/Users/wuyadong/src/ha/utils/web.py", line 1566, in wsgi
    r = fn_exec()
  File "/Users/wuyadong/src/ha/utils/web.py", line 1542, in fn_route
    return fn()
  File "/Users/wuyadong/src/ha/utils/web.py", line 587, in __call__
    return self.func(*args)
  File "/Users/wuyadong/src/ha/utils/web.py", line 1338, in _wrapper
    raise ValueError('Expect return a dict when using @view() decorator.')
ValueError: Expect return a dict when using @view() decorator.
2015-04-22 15:44:52 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x103ac2f50>),UI>
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:44:52 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:44:52 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:44:52 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:44:52 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:44:52 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:44:52 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:44:52 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:44:52 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:44:52 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:44:52 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:44:52 db.py      [line:175] DEBUG    Init mysql engine <0x103cb6550> ok.
2015-04-22 15:44:52 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:44:52 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:44:52 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 15:44:52 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 15:44:52 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:44:52 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:44:52 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 15:44:52 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 15:44:52 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:44:52 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:44:52 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 15:44:52 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 15:44:52 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:44:52 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:44:52 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 15:44:52 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 15:44:52 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:45:14 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x103ac2f50>),UI>
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:45:14 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:45:14 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:45:14 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:45:14 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:45:14 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:45:14 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:45:14 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:45:14 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:45:14 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:45:14 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:45:14 db.py      [line:175] DEBUG    Init mysql engine <0x103cb65d0> ok.
2015-04-22 15:45:14 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:45:14 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:45:14 db.py      [line:98 ] DEBUG    open connection <0x103cee1d0>...
2015-04-22 15:45:14 db.py      [line:112] DEBUG    close connection <0x103cee1d0>...
2015-04-22 15:45:14 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:45:14 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:45:14 db.py      [line:98 ] DEBUG    open connection <0x103cee1d0>...
2015-04-22 15:45:14 db.py      [line:112] DEBUG    close connection <0x103cee1d0>...
2015-04-22 15:45:14 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:45:14 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:45:14 db.py      [line:98 ] DEBUG    open connection <0x103cee1d0>...
2015-04-22 15:45:14 db.py      [line:112] DEBUG    close connection <0x103cee1d0>...
2015-04-22 15:45:14 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:45:14 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:45:14 db.py      [line:98 ] DEBUG    open connection <0x103cee1d0>...
2015-04-22 15:45:14 db.py      [line:112] DEBUG    close connection <0x103cee1d0>...
2015-04-22 15:45:14 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:45:21 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x103ac2f50>),UI>
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:45:21 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:45:21 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:45:21 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:45:21 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:45:21 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:45:21 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:45:21 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:45:21 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:45:21 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:45:21 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:45:21 db.py      [line:175] DEBUG    Init mysql engine <0x103cb65d0> ok.
2015-04-22 15:45:21 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:45:21 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:45:21 db.py      [line:98 ] DEBUG    open connection <0x103cee1d0>...
2015-04-22 15:45:21 db.py      [line:112] DEBUG    close connection <0x103cee1d0>...
2015-04-22 15:45:21 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:45:21 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:45:21 db.py      [line:98 ] DEBUG    open connection <0x103cee1d0>...
2015-04-22 15:45:21 db.py      [line:112] DEBUG    close connection <0x103cee1d0>...
2015-04-22 15:45:21 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:45:21 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:45:21 db.py      [line:98 ] DEBUG    open connection <0x103cee1d0>...
2015-04-22 15:45:21 db.py      [line:112] DEBUG    close connection <0x103cee1d0>...
2015-04-22 15:45:21 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:45:21 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:45:21 db.py      [line:98 ] DEBUG    open connection <0x103cee1d0>...
2015-04-22 15:45:21 db.py      [line:112] DEBUG    close connection <0x103cee1d0>...
2015-04-22 15:45:21 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:50:48 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x102a4d140>),UI>
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:50:48 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:50:48 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:50:48 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:50:48 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:50:48 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:50:48 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:50:48 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:50:48 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:50:48 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:50:48 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:50:48 db.py      [line:175] DEBUG    Init mysql engine <0x102e67110> ok.
2015-04-22 15:50:48 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:50:48 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:50:48 db.py      [line:98 ] DEBUG    open connection <0x102f36a90>...
2015-04-22 15:50:48 db.py      [line:112] DEBUG    close connection <0x102f36a90>...
2015-04-22 15:50:48 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:50:48 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:50:48 db.py      [line:98 ] DEBUG    open connection <0x102f36a90>...
2015-04-22 15:50:48 db.py      [line:112] DEBUG    close connection <0x102f36a90>...
2015-04-22 15:50:48 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:50:48 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:50:48 db.py      [line:98 ] DEBUG    open connection <0x102f36a90>...
2015-04-22 15:50:48 db.py      [line:112] DEBUG    close connection <0x102f36a90>...
2015-04-22 15:50:48 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:50:48 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:50:48 db.py      [line:98 ] DEBUG    open connection <0x102f36a90>...
2015-04-22 15:50:48 db.py      [line:112] DEBUG    close connection <0x102f36a90>...
2015-04-22 15:50:48 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:50:51 web.py     [line:1336] INFO     return Template
2015-04-22 15:51:36 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x101ebef50>),UI>
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:51:36 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:51:36 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:51:36 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:51:36 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:51:36 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:51:36 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:51:36 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:51:36 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:51:36 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:51:36 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:51:36 db.py      [line:175] DEBUG    Init mysql engine <0x103cd8650> ok.
2015-04-22 15:51:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:51:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:51:36 db.py      [line:98 ] DEBUG    open connection <0x103d0e250>...
2015-04-22 15:51:36 db.py      [line:112] DEBUG    close connection <0x103d0e250>...
2015-04-22 15:51:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:51:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:51:36 db.py      [line:98 ] DEBUG    open connection <0x103d0e250>...
2015-04-22 15:51:36 db.py      [line:112] DEBUG    close connection <0x103d0e250>...
2015-04-22 15:51:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:51:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:51:36 db.py      [line:98 ] DEBUG    open connection <0x103d0e250>...
2015-04-22 15:51:36 db.py      [line:112] DEBUG    close connection <0x103d0e250>...
2015-04-22 15:51:36 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:51:36 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:51:36 db.py      [line:98 ] DEBUG    open connection <0x103d0e250>...
2015-04-22 15:51:36 db.py      [line:112] DEBUG    close connection <0x103d0e250>...
2015-04-22 15:51:36 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:51:56 web.py     [line:1336] INFO     return Template
2015-04-22 15:51:56 web.py     [line:1336] INFO     return Template
2015-04-22 15:51:56 web.py     [line:1336] INFO     return Template
2015-04-22 15:51:57 web.py     [line:1336] INFO     return Template
2015-04-22 15:52:07 web.py     [line:1336] INFO     return Template
2015-04-22 15:52:32 web.py     [line:1336] INFO     return Template
2015-04-22 15:52:32 web.py     [line:1336] INFO     return Template
2015-04-22 15:52:32 web.py     [line:1336] INFO     return Template
2015-04-22 15:52:33 web.py     [line:1336] INFO     return Template
2015-04-22 15:52:33 web.py     [line:1336] INFO     return Template
2015-04-22 15:52:37 web.py     [line:1336] INFO     return Template
2015-04-22 15:53:37 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x103ac2f50>),UI>
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:53:37 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:53:37 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:53:37 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:53:37 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:53:37 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:53:37 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:53:37 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:53:37 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:53:37 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:53:37 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:53:37 db.py      [line:175] DEBUG    Init mysql engine <0x103cb3690> ok.
2015-04-22 15:53:37 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:53:37 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:53:37 db.py      [line:98 ] DEBUG    open connection <0x103cef290>...
2015-04-22 15:53:37 db.py      [line:112] DEBUG    close connection <0x103cef290>...
2015-04-22 15:53:37 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:53:37 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:53:37 db.py      [line:98 ] DEBUG    open connection <0x103cef290>...
2015-04-22 15:53:37 db.py      [line:112] DEBUG    close connection <0x103cef290>...
2015-04-22 15:53:37 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:53:37 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:53:37 db.py      [line:98 ] DEBUG    open connection <0x103cef290>...
2015-04-22 15:53:37 db.py      [line:112] DEBUG    close connection <0x103cef290>...
2015-04-22 15:53:37 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:53:37 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:53:37 db.py      [line:98 ] DEBUG    open connection <0x103cef290>...
2015-04-22 15:53:37 db.py      [line:112] DEBUG    close connection <0x103cef290>...
2015-04-22 15:53:37 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:53:41 web.py     [line:1336] INFO     return Template
2015-04-22 15:54:25 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x103ac2f50>),UI>
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:54:25 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:54:25 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:54:25 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:54:25 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:54:25 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:54:25 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:54:25 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:54:25 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:54:25 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:54:25 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:54:25 db.py      [line:175] DEBUG    Init mysql engine <0x103cb3610> ok.
2015-04-22 15:54:25 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:54:25 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:54:25 db.py      [line:98 ] DEBUG    open connection <0x103cf0210>...
2015-04-22 15:54:25 db.py      [line:112] DEBUG    close connection <0x103cf0210>...
2015-04-22 15:54:25 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:54:25 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:54:25 db.py      [line:98 ] DEBUG    open connection <0x103cf0210>...
2015-04-22 15:54:25 db.py      [line:112] DEBUG    close connection <0x103cf0210>...
2015-04-22 15:54:25 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:54:25 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:54:25 db.py      [line:98 ] DEBUG    open connection <0x103cf0210>...
2015-04-22 15:54:25 db.py      [line:112] DEBUG    close connection <0x103cf0210>...
2015-04-22 15:54:25 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:54:25 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:54:25 db.py      [line:98 ] DEBUG    open connection <0x103cf0210>...
2015-04-22 15:54:25 db.py      [line:112] DEBUG    close connection <0x103cf0210>...
2015-04-22 15:54:25 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:54:28 web.py     [line:1336] INFO     return Template
2015-04-22 15:55:39 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x1026b9f50>),UI>
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:55:39 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:55:39 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:55:39 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:55:39 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:55:39 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:55:39 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:55:39 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:55:39 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:55:39 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:55:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:55:40 db.py      [line:175] DEBUG    Init mysql engine <0x103cd75d0> ok.
2015-04-22 15:55:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:55:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:55:40 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 15:55:40 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 15:55:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:55:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:55:40 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 15:55:40 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 15:55:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:55:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:55:40 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 15:55:40 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 15:55:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:55:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:55:40 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 15:55:40 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 15:55:40 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:55:43 web.py     [line:1336] INFO     return Template
2015-04-22 15:56:39 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x1026b9f50>),UI>
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:56:39 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:56:39 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:56:39 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:56:39 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:56:39 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:56:39 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:56:39 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:56:39 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:56:39 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:56:39 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:56:39 db.py      [line:175] DEBUG    Init mysql engine <0x103cd8690> ok.
2015-04-22 15:56:39 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:56:39 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:56:39 db.py      [line:98 ] DEBUG    open connection <0x103d0e290>...
2015-04-22 15:56:39 db.py      [line:112] DEBUG    close connection <0x103d0e290>...
2015-04-22 15:56:39 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:56:39 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:56:39 db.py      [line:98 ] DEBUG    open connection <0x103d0e290>...
2015-04-22 15:56:39 db.py      [line:112] DEBUG    close connection <0x103d0e290>...
2015-04-22 15:56:39 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:56:39 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:56:39 db.py      [line:98 ] DEBUG    open connection <0x103d0e290>...
2015-04-22 15:56:39 db.py      [line:112] DEBUG    close connection <0x103d0e290>...
2015-04-22 15:56:39 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:56:39 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:56:39 db.py      [line:98 ] DEBUG    open connection <0x103d0e290>...
2015-04-22 15:56:39 db.py      [line:112] DEBUG    close connection <0x103d0e290>...
2015-04-22 15:56:39 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:56:42 web.py     [line:1336] INFO     return Template
2015-04-22 15:58:18 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x103ac2f50>),UI>
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 15:58:18 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 15:58:18 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 15:58:18 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 15:58:18 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 15:58:18 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:58:18 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 15:58:18 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 15:58:18 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 15:58:18 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 15:58:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 15:58:19 db.py      [line:175] DEBUG    Init mysql engine <0x103cb5610> ok.
2015-04-22 15:58:19 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:58:19 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 15:58:19 db.py      [line:98 ] DEBUG    open connection <0x103cef210>...
2015-04-22 15:58:19 db.py      [line:112] DEBUG    close connection <0x103cef210>...
2015-04-22 15:58:19 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:58:19 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 15:58:19 db.py      [line:98 ] DEBUG    open connection <0x103cef210>...
2015-04-22 15:58:19 db.py      [line:112] DEBUG    close connection <0x103cef210>...
2015-04-22 15:58:19 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:58:19 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 15:58:19 db.py      [line:98 ] DEBUG    open connection <0x103cef210>...
2015-04-22 15:58:19 db.py      [line:112] DEBUG    close connection <0x103cef210>...
2015-04-22 15:58:19 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 15:58:19 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 15:58:19 db.py      [line:98 ] DEBUG    open connection <0x103cef210>...
2015-04-22 15:58:19 db.py      [line:112] DEBUG    close connection <0x103cef210>...
2015-04-22 15:58:19 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 15:58:24 web.py     [line:1336] INFO     return Template
2015-04-22 15:58:33 web.py     [line:1336] INFO     return Template
2015-04-22 16:03:07 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x1026bef50>),UI>
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 16:03:07 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 16:03:07 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 16:03:07 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 16:03:07 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 16:03:07 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:03:07 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 16:03:07 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 16:03:07 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 16:03:07 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 16:03:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 16:03:07 db.py      [line:175] DEBUG    Init mysql engine <0x103cd85d0> ok.
2015-04-22 16:03:07 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:03:07 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 16:03:07 db.py      [line:98 ] DEBUG    open connection <0x103d0f1d0>...
2015-04-22 16:03:07 db.py      [line:112] DEBUG    close connection <0x103d0f1d0>...
2015-04-22 16:03:07 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:03:07 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 16:03:07 db.py      [line:98 ] DEBUG    open connection <0x103d0f1d0>...
2015-04-22 16:03:07 db.py      [line:112] DEBUG    close connection <0x103d0f1d0>...
2015-04-22 16:03:07 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:03:07 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 16:03:07 db.py      [line:98 ] DEBUG    open connection <0x103d0f1d0>...
2015-04-22 16:03:07 db.py      [line:112] DEBUG    close connection <0x103d0f1d0>...
2015-04-22 16:03:07 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:03:07 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 16:03:07 db.py      [line:98 ] DEBUG    open connection <0x103d0f1d0>...
2015-04-22 16:03:07 db.py      [line:112] DEBUG    close connection <0x103d0f1d0>...
2015-04-22 16:03:07 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 16:03:13 web.py     [line:1336] INFO     return Template
2015-04-22 16:04:19 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x1026b9f50>),UI>
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 16:04:19 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 16:04:19 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 16:04:19 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 16:04:19 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 16:04:19 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:04:19 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 16:04:19 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 16:04:19 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 16:04:19 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 16:04:19 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 16:04:19 db.py      [line:175] DEBUG    Init mysql engine <0x103cd9610> ok.
2015-04-22 16:04:19 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:04:19 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 16:04:19 db.py      [line:98 ] DEBUG    open connection <0x103d10210>...
2015-04-22 16:04:19 db.py      [line:112] DEBUG    close connection <0x103d10210>...
2015-04-22 16:04:19 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:04:19 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 16:04:19 db.py      [line:98 ] DEBUG    open connection <0x103d10210>...
2015-04-22 16:04:19 db.py      [line:112] DEBUG    close connection <0x103d10210>...
2015-04-22 16:04:19 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:04:19 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 16:04:19 db.py      [line:98 ] DEBUG    open connection <0x103d10210>...
2015-04-22 16:04:19 db.py      [line:112] DEBUG    close connection <0x103d10210>...
2015-04-22 16:04:19 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:04:19 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 16:04:19 db.py      [line:98 ] DEBUG    open connection <0x103d10210>...
2015-04-22 16:04:19 db.py      [line:112] DEBUG    close connection <0x103d10210>...
2015-04-22 16:04:20 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 16:04:27 web.py     [line:1336] INFO     return Template
2015-04-22 16:05:46 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x1026b9f50>),UI>
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 16:05:46 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 16:05:46 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 16:05:46 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 16:05:46 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 16:05:46 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:05:46 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 16:05:46 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 16:05:46 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 16:05:46 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 16:05:46 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 16:05:46 db.py      [line:175] DEBUG    Init mysql engine <0x103cd9610> ok.
2015-04-22 16:05:46 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:05:46 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 16:05:46 db.py      [line:98 ] DEBUG    open connection <0x103d10210>...
2015-04-22 16:05:46 db.py      [line:112] DEBUG    close connection <0x103d10210>...
2015-04-22 16:05:46 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:05:46 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 16:05:46 db.py      [line:98 ] DEBUG    open connection <0x103d10210>...
2015-04-22 16:05:46 db.py      [line:112] DEBUG    close connection <0x103d10210>...
2015-04-22 16:05:46 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:05:46 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 16:05:46 db.py      [line:98 ] DEBUG    open connection <0x103d10210>...
2015-04-22 16:05:46 db.py      [line:112] DEBUG    close connection <0x103d10210>...
2015-04-22 16:05:46 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:05:46 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 16:05:46 db.py      [line:98 ] DEBUG    open connection <0x103d10210>...
2015-04-22 16:05:46 db.py      [line:112] DEBUG    close connection <0x103d10210>...
2015-04-22 16:05:46 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 16:05:52 web.py     [line:1336] INFO     return Template
2015-04-22 16:06:03 client.py  [line:301] INFO     POST http://localhost:8008/
2015-04-22 16:06:03 client.py  [line:302] DEBUG    SOAPAction: "http://localhost:8008/GetAPInfo"
Content-length: 334
Content-type: text/xml; charset="UTF-8"
2015-04-22 16:06:03 client.py  [line:303] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<soap:Header/>
<soap:Body>
    <GetAPInfo xmlns="None">
    <comm_code>x</comm_code></GetAPInfo>
</soap:Body>
</soap:Envelope>
2015-04-22 16:06:03 client.py  [line:317] DEBUG    date: Wed, 22 Apr 2015 08:06:03 GMT
content-type: text/xml
server: BaseHTTP/0.3 Python/2.7.9
2015-04-22 16:06:03 client.py  [line:318] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soap:Body><GetAPInfoResponse xmlns=""><ap_mac_addr></ap_mac_addr></GetAPInfoResponse></soap:Body></soap:Envelope>
2015-04-22 16:09:13 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(255),default(),UI>
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(255),default(<function <lambda> at 0x1026bef50>),UI>
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: id => <IntegerField:id,int,default(0),UI>
2015-04-22 16:09:13 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(255),default(),I>
2015-04-22 16:09:13 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 16:09:13 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 16:09:13 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 16:09:13 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:09:13 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 16:09:13 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 16:09:13 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 16:09:13 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 16:09:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 16:09:13 db.py      [line:175] DEBUG    Init mysql engine <0x103cd75d0> ok.
2015-04-22 16:09:13 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:09:13 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 16:09:13 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 16:09:13 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 16:09:13 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:09:13 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 16:09:13 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 16:09:13 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 16:09:13 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:09:13 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 16:09:13 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 16:09:13 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 16:09:13 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:09:13 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 16:09:13 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 16:09:13 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 16:09:13 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 16:09:45 client.py  [line:301] INFO     POST http://localhost:8008/
2015-04-22 16:09:45 client.py  [line:302] DEBUG    SOAPAction: "http://localhost:8008/GetAPInfo"
Content-length: 350
Content-type: text/xml; charset="UTF-8"
2015-04-22 16:09:45 client.py  [line:303] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<soap:Header/>
<soap:Body>
    <GetAPInfo xmlns="None">
    <comm_code>52:54:00:0d:3f:19</comm_code></GetAPInfo>
</soap:Body>
</soap:Envelope>
2015-04-22 16:09:45 client.py  [line:317] DEBUG    date: Wed, 22 Apr 2015 08:09:45 GMT
content-type: text/xml
server: BaseHTTP/0.3 Python/2.7.9
2015-04-22 16:09:45 client.py  [line:318] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soap:Body><GetAPInfoResponse xmlns=""><ap_mac_addr></ap_mac_addr></GetAPInfoResponse></soap:Body></soap:Envelope>
2015-04-22 16:09:57 web.py     [line:1336] INFO     return Template
2015-04-22 16:10:07 web.py     [line:1336] INFO     return Template
2015-04-22 16:10:08 web.py     [line:1336] INFO     return Template
2015-04-22 16:10:36 client.py  [line:301] INFO     POST http://localhost:8008/
2015-04-22 16:10:36 client.py  [line:302] DEBUG    SOAPAction: "http://localhost:8008/GetAPInfo"
Content-length: 350
Content-type: text/xml; charset="UTF-8"
2015-04-22 16:10:36 client.py  [line:303] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<soap:Header/>
<soap:Body>
    <GetAPInfo xmlns="None">
    <comm_code>52:54:00:0d:3f:19</comm_code></GetAPInfo>
</soap:Body>
</soap:Envelope>
2015-04-22 16:10:36 client.py  [line:317] DEBUG    date: Wed, 22 Apr 2015 08:10:36 GMT
content-type: text/xml
server: BaseHTTP/0.3 Python/2.7.9
2015-04-22 16:10:36 client.py  [line:318] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soap:Body><GetAPInfoResponse xmlns=""><ap_mac_addr></ap_mac_addr></GetAPInfoResponse></soap:Body></soap:Envelope>
2015-04-22 16:10:36 web.py     [line:1336] INFO     return Template
2015-04-22 16:11:21 client.py  [line:301] INFO     POST http://localhost:8008/
2015-04-22 16:11:21 client.py  [line:302] DEBUG    SOAPAction: "http://localhost:8008/GetAPInfo"
Content-length: 373
Content-type: text/xml; charset="UTF-8"
2015-04-22 16:11:21 client.py  [line:303] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<soap:Header/>
<soap:Body>
    <GetAPInfo xmlns="None">
    <comm_code>4550381B23680A1DF7DA9670156108D0A2491EB2</comm_code></GetAPInfo>
</soap:Body>
</soap:Envelope>
2015-04-22 16:11:21 client.py  [line:317] DEBUG    date: Wed, 22 Apr 2015 08:11:21 GMT
content-type: text/xml
server: BaseHTTP/0.3 Python/2.7.9
2015-04-22 16:11:21 client.py  [line:318] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soap:Body><GetAPInfoResponse xmlns=""><ap_mac_addr></ap_mac_addr></GetAPInfoResponse></soap:Body></soap:Envelope>
2015-04-22 16:11:27 web.py     [line:1336] INFO     return Template
2015-04-22 16:12:47 client.py  [line:301] INFO     POST http://localhost:8008/
2015-04-22 16:12:47 client.py  [line:302] DEBUG    SOAPAction: "http://localhost:8008/GetAPInfo"
Content-length: 373
Content-type: text/xml; charset="UTF-8"
2015-04-22 16:12:47 client.py  [line:303] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<soap:Header/>
<soap:Body>
    <GetAPInfo xmlns="None">
    <comm_code>4550381B23680A1DF7DA9670156108D0A2491EB2</comm_code></GetAPInfo>
</soap:Body>
</soap:Envelope>
2015-04-22 16:12:47 client.py  [line:317] DEBUG    date: Wed, 22 Apr 2015 08:12:47 GMT
content-type: text/xml
server: BaseHTTP/0.3 Python/2.7.9
2015-04-22 16:12:47 client.py  [line:318] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soap:Body><GetAPInfoResponse xmlns=""><ap_mac_addr>52:54:00:0d:3f:19</ap_mac_addr></GetAPInfoResponse></soap:Body></soap:Envelope>
2015-04-22 16:12:55 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:12:55 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 16:12:55 db.py      [line:98 ] DEBUG    open connection <0x103e3c0d0>...
2015-04-22 16:12:55 db.py      [line:112] DEBUG    close connection <0x103e3c0d0>...
2015-04-22 16:12:55 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:12:55 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 16:12:55 db.py      [line:98 ] DEBUG    open connection <0x103e3c0d0>...
2015-04-22 16:12:55 db.py      [line:460] DEBUG    auto commit
2015-04-22 16:12:55 db.py      [line:112] DEBUG    close connection <0x103e3c0d0>...
2015-04-22 16:12:55 web.py     [line:1336] INFO     return Template
2015-04-22 16:13:01 web.py     [line:1336] INFO     return Template
2015-04-22 16:27:11 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 16:27:11 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x102a4e0c8>),UI>
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 16:27:11 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 16:27:11 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 16:27:11 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 16:27:11 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:27:11 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 16:27:11 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 16:27:11 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 16:27:11 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 16:27:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 16:27:11 db.py      [line:175] DEBUG    Init mysql engine <0x102e690d0> ok.
2015-04-22 16:27:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:27:11 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 16:27:11 db.py      [line:98 ] DEBUG    open connection <0x102f37a50>...
2015-04-22 16:27:11 db.py      [line:112] DEBUG    close connection <0x102f37a50>...
2015-04-22 16:27:11 entity.py  [line:66 ] ERROR    table <user> not exist, begin create it
2015-04-22 16:27:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:27:11 db.py      [line:453] DEBUG    SQL: -- generating SQL for user:
create table user (
  name varchar(50) not null,
  email varchar(50) not null,
  passwd varchar(50) not null,
  last_modified real not null,
  primary key(name)
);, ARGS: ()
2015-04-22 16:27:11 db.py      [line:98 ] DEBUG    open connection <0x102f37a50>...
2015-04-22 16:27:11 db.py      [line:460] DEBUG    auto commit
2015-04-22 16:27:11 db.py      [line:112] DEBUG    close connection <0x102f37a50>...
2015-04-22 16:27:11 entity.py  [line:69 ] INFO     table <user> created.
2015-04-22 16:27:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:27:11 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 16:27:11 db.py      [line:98 ] DEBUG    open connection <0x102f37a50>...
2015-04-22 16:27:11 db.py      [line:112] DEBUG    close connection <0x102f37a50>...
2015-04-22 16:27:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:27:11 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 16:27:11 db.py      [line:98 ] DEBUG    open connection <0x102f37a50>...
2015-04-22 16:27:11 db.py      [line:112] DEBUG    close connection <0x102f37a50>...
2015-04-22 16:27:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:27:11 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 16:27:11 db.py      [line:98 ] DEBUG    open connection <0x102f37a50>...
2015-04-22 16:27:11 db.py      [line:112] DEBUG    close connection <0x102f37a50>...
2015-04-22 16:27:11 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 16:33:28 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 16:33:28 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x102a4e0c8>),UI>
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 16:33:28 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 16:33:28 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 16:33:28 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 16:33:28 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:33:28 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 16:33:28 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 16:33:28 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 16:33:29 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 16:33:29 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 16:33:29 db.py      [line:175] DEBUG    Init mysql engine <0x102e68090> ok.
2015-04-22 16:33:29 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:33:29 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 16:33:29 db.py      [line:98 ] DEBUG    open connection <0x102f37a10>...
2015-04-22 16:33:29 db.py      [line:112] DEBUG    close connection <0x102f37a10>...
2015-04-22 16:33:29 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:33:29 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 16:33:29 db.py      [line:98 ] DEBUG    open connection <0x102f37a10>...
2015-04-22 16:33:29 db.py      [line:112] DEBUG    close connection <0x102f37a10>...
2015-04-22 16:33:29 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:33:29 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 16:33:29 db.py      [line:98 ] DEBUG    open connection <0x102f37a10>...
2015-04-22 16:33:29 db.py      [line:112] DEBUG    close connection <0x102f37a10>...
2015-04-22 16:33:29 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:33:29 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 16:33:29 db.py      [line:98 ] DEBUG    open connection <0x102f37a10>...
2015-04-22 16:33:29 db.py      [line:112] DEBUG    close connection <0x102f37a10>...
2015-04-22 16:33:29 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 16:33:55 client.py  [line:301] INFO     POST http://localhost:8008/
2015-04-22 16:33:55 client.py  [line:302] DEBUG    SOAPAction: "http://localhost:8008/GetAPInfo"
Content-length: 373
Content-type: text/xml; charset="UTF-8"
2015-04-22 16:33:55 client.py  [line:303] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<soap:Header/>
<soap:Body>
    <GetAPInfo xmlns="None">
    <comm_code>4550381B23680A1DF7DA9670156108D0A2491EB2</comm_code></GetAPInfo>
</soap:Body>
</soap:Envelope>
2015-04-22 16:33:55 client.py  [line:317] DEBUG    date: Wed, 22 Apr 2015 08:33:55 GMT
content-type: text/xml
server: BaseHTTP/0.3 Python/2.7.9
2015-04-22 16:33:55 client.py  [line:318] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soap:Body><GetAPInfoResponse xmlns=""><ap_mac_addr></ap_mac_addr></GetAPInfoResponse></soap:Body></soap:Envelope>
2015-04-22 16:33:55 web.py     [line:1336] INFO     return Template
2015-04-22 16:33:58 client.py  [line:301] INFO     POST http://localhost:8008/
2015-04-22 16:33:58 client.py  [line:302] DEBUG    SOAPAction: "http://localhost:8008/GetAPInfo"
Content-length: 373
Content-type: text/xml; charset="UTF-8"
2015-04-22 16:33:58 client.py  [line:303] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
<soap:Header/>
<soap:Body>
    <GetAPInfo xmlns="None">
    <comm_code>4550381B23680A1DF7DA9670156108D0A2491EB2</comm_code></GetAPInfo>
</soap:Body>
</soap:Envelope>
2015-04-22 16:33:58 client.py  [line:317] DEBUG    date: Wed, 22 Apr 2015 08:33:58 GMT
content-type: text/xml
server: BaseHTTP/0.3 Python/2.7.9
2015-04-22 16:33:58 client.py  [line:318] DEBUG    <?xml version="1.0" encoding="UTF-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><soap:Body><GetAPInfoResponse xmlns=""><ap_mac_addr></ap_mac_addr></GetAPInfoResponse></soap:Body></soap:Envelope>
2015-04-22 16:33:58 web.py     [line:1336] INFO     return Template
2015-04-22 16:35:13 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 16:35:13 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x10224e0c8>),UI>
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 16:35:13 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 16:35:13 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 16:35:13 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 16:35:13 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:35:13 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 16:35:13 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 16:35:13 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 16:35:13 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 16:35:13 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 16:35:13 db.py      [line:175] DEBUG    Init mysql engine <0x10266b090> ok.
2015-04-22 16:35:13 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:35:13 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 16:35:13 db.py      [line:98 ] DEBUG    open connection <0x102737a10>...
2015-04-22 16:35:13 db.py      [line:112] DEBUG    close connection <0x102737a10>...
2015-04-22 16:35:13 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:35:13 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 16:35:13 db.py      [line:98 ] DEBUG    open connection <0x102737a10>...
2015-04-22 16:35:13 db.py      [line:112] DEBUG    close connection <0x102737a10>...
2015-04-22 16:35:13 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:35:13 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 16:35:13 db.py      [line:98 ] DEBUG    open connection <0x102737a10>...
2015-04-22 16:35:13 db.py      [line:112] DEBUG    close connection <0x102737a10>...
2015-04-22 16:35:13 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:35:13 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 16:35:13 db.py      [line:98 ] DEBUG    open connection <0x102737a10>...
2015-04-22 16:35:13 db.py      [line:112] DEBUG    close connection <0x102737a10>...
2015-04-22 16:35:13 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 16:35:18 web.py     [line:1336] INFO     return Template
2015-04-22 16:35:18 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:35:18 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 16:35:18 db.py      [line:98 ] DEBUG    open connection <0x10279d890>...
2015-04-22 16:35:18 db.py      [line:112] DEBUG    close connection <0x10279d890>...
2015-04-22 16:35:18 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:35:18 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 16:35:18 db.py      [line:98 ] DEBUG    open connection <0x10279d890>...
2015-04-22 16:35:18 db.py      [line:460] DEBUG    auto commit
2015-04-22 16:35:18 db.py      [line:112] DEBUG    close connection <0x10279d890>...
2015-04-22 16:35:18 web.py     [line:1336] INFO     return Template
2015-04-22 16:35:56 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 16:35:56 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x1026b9ed8>),UI>
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 16:35:56 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 16:35:56 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 16:35:56 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 16:35:56 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:35:56 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 16:35:56 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 16:35:56 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 16:35:56 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 16:35:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 16:35:56 db.py      [line:175] DEBUG    Init mysql engine <0x103cd95d0> ok.
2015-04-22 16:35:56 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:35:56 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 16:35:56 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 16:35:56 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 16:35:56 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:35:56 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 16:35:56 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 16:35:56 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 16:35:56 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:35:56 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 16:35:56 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 16:35:56 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 16:35:56 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:35:56 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 16:35:56 db.py      [line:98 ] DEBUG    open connection <0x103d0e1d0>...
2015-04-22 16:35:56 db.py      [line:112] DEBUG    close connection <0x103d0e1d0>...
2015-04-22 16:35:56 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 16:36:04 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:36:04 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 16:36:04 db.py      [line:98 ] DEBUG    open connection <0x103d2cdd0>...
2015-04-22 16:36:04 db.py      [line:112] DEBUG    close connection <0x103d2cdd0>...
2015-04-22 16:36:04 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:36:04 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 16:36:04 db.py      [line:98 ] DEBUG    open connection <0x103d2cdd0>...
2015-04-22 16:36:04 db.py      [line:460] DEBUG    auto commit
2015-04-22 16:36:04 db.py      [line:112] DEBUG    close connection <0x103d2cdd0>...
2015-04-22 16:36:04 web.py     [line:1336] INFO     return Template
2015-04-22 16:37:22 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 16:37:22 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x102a4e0c8>),UI>
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 16:37:22 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 16:37:22 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 16:37:22 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 16:37:22 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:37:22 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 16:37:22 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 16:37:22 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 16:37:22 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 16:37:22 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 16:37:22 db.py      [line:175] DEBUG    Init mysql engine <0x102e6b110> ok.
2015-04-22 16:37:22 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:37:22 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 16:37:22 db.py      [line:98 ] DEBUG    open connection <0x102f37a90>...
2015-04-22 16:37:22 db.py      [line:112] DEBUG    close connection <0x102f37a90>...
2015-04-22 16:37:22 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:37:22 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 16:37:22 db.py      [line:98 ] DEBUG    open connection <0x102f37a90>...
2015-04-22 16:37:22 db.py      [line:112] DEBUG    close connection <0x102f37a90>...
2015-04-22 16:37:22 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:37:22 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 16:37:22 db.py      [line:98 ] DEBUG    open connection <0x102f37a90>...
2015-04-22 16:37:22 db.py      [line:112] DEBUG    close connection <0x102f37a90>...
2015-04-22 16:37:22 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:37:22 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 16:37:22 db.py      [line:98 ] DEBUG    open connection <0x102f37a90>...
2015-04-22 16:37:22 db.py      [line:112] DEBUG    close connection <0x102f37a90>...
2015-04-22 16:37:22 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 16:37:25 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:37:25 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 16:37:25 db.py      [line:98 ] DEBUG    open connection <0x102f6f0d0>...
2015-04-22 16:37:25 db.py      [line:112] DEBUG    close connection <0x102f6f0d0>...
2015-04-22 16:37:25 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:37:25 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 16:37:25 db.py      [line:98 ] DEBUG    open connection <0x102f37d10>...
2015-04-22 16:37:25 db.py      [line:460] DEBUG    auto commit
2015-04-22 16:37:25 db.py      [line:112] DEBUG    close connection <0x102f37d10>...
2015-04-22 16:37:25 web.py     [line:1336] INFO     return Template
2015-04-22 16:37:39 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:37:39 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 16:37:39 db.py      [line:98 ] DEBUG    open connection <0x102f5ee90>...
2015-04-22 16:37:39 db.py      [line:112] DEBUG    close connection <0x102f5ee90>...
2015-04-22 16:37:39 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:37:39 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 16:37:39 db.py      [line:98 ] DEBUG    open connection <0x102f5ee90>...
2015-04-22 16:37:39 db.py      [line:460] DEBUG    auto commit
2015-04-22 16:37:39 db.py      [line:112] DEBUG    close connection <0x102f5ee90>...
2015-04-22 16:37:39 web.py     [line:1336] INFO     return Template
2015-04-22 16:38:33 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:38:33 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 16:38:33 db.py      [line:98 ] DEBUG    open connection <0x102f5eed0>...
2015-04-22 16:38:33 db.py      [line:112] DEBUG    close connection <0x102f5eed0>...
2015-04-22 16:38:33 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:38:33 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 16:38:33 db.py      [line:98 ] DEBUG    open connection <0x102f5eed0>...
2015-04-22 16:38:33 db.py      [line:460] DEBUG    auto commit
2015-04-22 16:38:33 db.py      [line:112] DEBUG    close connection <0x102f5eed0>...
2015-04-22 16:38:33 web.py     [line:1336] INFO     return Template
2015-04-22 16:41:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:41:11 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 16:41:11 db.py      [line:98 ] DEBUG    open connection <0x102f5edd0>...
2015-04-22 16:41:11 db.py      [line:112] DEBUG    close connection <0x102f5edd0>...
2015-04-22 16:41:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:41:11 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 16:41:11 db.py      [line:98 ] DEBUG    open connection <0x102f5edd0>...
2015-04-22 16:41:11 db.py      [line:460] DEBUG    auto commit
2015-04-22 16:41:11 db.py      [line:112] DEBUG    close connection <0x102f5edd0>...
2015-04-22 16:41:11 web.py     [line:1336] INFO     return Template
2015-04-22 16:55:12 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:55:12 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 16:55:12 db.py      [line:98 ] DEBUG    open connection <0x102f6f590>...
2015-04-22 16:55:12 db.py      [line:112] DEBUG    close connection <0x102f6f590>...
2015-04-22 16:55:12 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:55:12 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 16:55:12 db.py      [line:98 ] DEBUG    open connection <0x102f6f590>...
2015-04-22 16:55:12 db.py      [line:460] DEBUG    auto commit
2015-04-22 16:55:12 db.py      [line:112] DEBUG    close connection <0x102f6f590>...
2015-04-22 16:55:12 web.py     [line:1336] INFO     return Template
2015-04-22 16:55:29 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:55:29 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 16:55:29 db.py      [line:98 ] DEBUG    open connection <0x102f37d10>...
2015-04-22 16:55:29 db.py      [line:112] DEBUG    close connection <0x102f37d10>...
2015-04-22 16:55:29 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:55:29 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 16:55:29 db.py      [line:98 ] DEBUG    open connection <0x102f37d10>...
2015-04-22 16:55:29 db.py      [line:460] DEBUG    auto commit
2015-04-22 16:55:29 db.py      [line:112] DEBUG    close connection <0x102f37d10>...
2015-04-22 16:55:29 web.py     [line:1336] INFO     return Template
2015-04-22 16:56:45 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 16:56:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x102a4e0c8>),UI>
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 16:56:45 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 16:56:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 16:56:45 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 16:56:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:56:45 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 16:56:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 16:56:45 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 16:56:45 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 16:56:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 16:56:45 db.py      [line:175] DEBUG    Init mysql engine <0x102e69090> ok.
2015-04-22 16:56:45 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:56:45 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 16:56:45 db.py      [line:98 ] DEBUG    open connection <0x102f37a10>...
2015-04-22 16:56:45 db.py      [line:112] DEBUG    close connection <0x102f37a10>...
2015-04-22 16:56:45 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:56:45 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 16:56:45 db.py      [line:98 ] DEBUG    open connection <0x102f37a10>...
2015-04-22 16:56:45 db.py      [line:112] DEBUG    close connection <0x102f37a10>...
2015-04-22 16:56:45 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:56:45 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 16:56:45 db.py      [line:98 ] DEBUG    open connection <0x102f37a10>...
2015-04-22 16:56:45 db.py      [line:112] DEBUG    close connection <0x102f37a10>...
2015-04-22 16:56:45 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:56:45 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 16:56:45 db.py      [line:98 ] DEBUG    open connection <0x102f37a10>...
2015-04-22 16:56:45 db.py      [line:112] DEBUG    close connection <0x102f37a10>...
2015-04-22 16:56:45 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 16:56:51 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:56:51 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 16:56:51 db.py      [line:98 ] DEBUG    open connection <0x102f5efd0>...
2015-04-22 16:56:51 db.py      [line:112] DEBUG    close connection <0x102f5efd0>...
2015-04-22 16:56:51 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 16:56:51 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 16:56:51 db.py      [line:98 ] DEBUG    open connection <0x102f5efd0>...
2015-04-22 16:56:51 db.py      [line:460] DEBUG    auto commit
2015-04-22 16:56:51 db.py      [line:112] DEBUG    close connection <0x102f5efd0>...
2015-04-22 16:56:51 web.py     [line:1336] INFO     return Template
2015-04-22 17:08:18 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:08:18 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x103ac2ed8>),UI>
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:08:18 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:08:18 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:08:18 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:08:18 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:08:18 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:08:18 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:08:18 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:08:18 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 17:08:18 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 17:08:18 db.py      [line:175] DEBUG    Init mysql engine <0x103cb3590> ok.
2015-04-22 17:08:18 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:08:18 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 17:08:18 db.py      [line:98 ] DEBUG    open connection <0x103cee190>...
2015-04-22 17:08:18 db.py      [line:112] DEBUG    close connection <0x103cee190>...
2015-04-22 17:08:18 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:08:18 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 17:08:18 db.py      [line:98 ] DEBUG    open connection <0x103cee190>...
2015-04-22 17:08:18 db.py      [line:112] DEBUG    close connection <0x103cee190>...
2015-04-22 17:08:18 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:08:18 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 17:08:18 db.py      [line:98 ] DEBUG    open connection <0x103cee190>...
2015-04-22 17:08:18 db.py      [line:112] DEBUG    close connection <0x103cee190>...
2015-04-22 17:08:18 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:08:18 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 17:08:18 db.py      [line:98 ] DEBUG    open connection <0x103cee190>...
2015-04-22 17:08:18 db.py      [line:112] DEBUG    close connection <0x103cee190>...
2015-04-22 17:08:18 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 17:08:37 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:08:37 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:08:37 db.py      [line:98 ] DEBUG    open connection <0x103d0bd50>...
2015-04-22 17:08:37 db.py      [line:112] DEBUG    close connection <0x103d0bd50>...
2015-04-22 17:08:37 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:08:37 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:08:37 db.py      [line:98 ] DEBUG    open connection <0x103d0bcd0>...
2015-04-22 17:08:37 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:08:37 db.py      [line:112] DEBUG    close connection <0x103d0bcd0>...
2015-04-22 17:08:37 web.py     [line:1336] INFO     return Template
2015-04-22 17:09:40 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:09:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x10226a0c8>),UI>
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:09:40 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:09:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:09:40 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:09:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:09:40 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:09:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:09:40 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:09:40 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 17:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/redirect/)
2015-04-22 17:09:40 db.py      [line:175] DEBUG    Init mysql engine <0x1026680d0> ok.
2015-04-22 17:09:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:09:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 17:09:40 db.py      [line:98 ] DEBUG    open connection <0x102737a50>...
2015-04-22 17:09:40 db.py      [line:112] DEBUG    close connection <0x102737a50>...
2015-04-22 17:09:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:09:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 17:09:40 db.py      [line:98 ] DEBUG    open connection <0x102737a50>...
2015-04-22 17:09:40 db.py      [line:112] DEBUG    close connection <0x102737a50>...
2015-04-22 17:09:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:09:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 17:09:40 db.py      [line:98 ] DEBUG    open connection <0x102737a50>...
2015-04-22 17:09:40 db.py      [line:112] DEBUG    close connection <0x102737a50>...
2015-04-22 17:09:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:09:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 17:09:40 db.py      [line:98 ] DEBUG    open connection <0x102737a50>...
2015-04-22 17:09:40 db.py      [line:112] DEBUG    close connection <0x102737a50>...
2015-04-22 17:09:40 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 17:09:53 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:09:53 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:09:53 db.py      [line:98 ] DEBUG    open connection <0x102772050>...
2015-04-22 17:09:53 db.py      [line:112] DEBUG    close connection <0x102772050>...
2015-04-22 17:09:53 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:09:53 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:09:53 db.py      [line:98 ] DEBUG    open connection <0x102737cd0>...
2015-04-22 17:09:53 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:09:53 db.py      [line:112] DEBUG    close connection <0x102737cd0>...
2015-04-22 17:09:53 web.py     [line:1336] INFO     return Template
2015-04-22 17:09:54 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:09:54 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:09:54 db.py      [line:98 ] DEBUG    open connection <0x102737c10>...
2015-04-22 17:09:54 db.py      [line:112] DEBUG    close connection <0x102737c10>...
2015-04-22 17:09:54 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:09:54 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:09:54 db.py      [line:98 ] DEBUG    open connection <0x102737c10>...
2015-04-22 17:09:54 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:09:54 db.py      [line:112] DEBUG    close connection <0x102737c10>...
2015-04-22 17:09:54 web.py     [line:1336] INFO     return Template
2015-04-22 17:10:16 web.py     [line:1583] ERROR    'uname'
Traceback (most recent call last):
  File "/Users/wuyadong/src/ha/utils/web.py", line 1566, in wsgi
    r = fn_exec()
  File "/Users/wuyadong/src/ha/utils/web.py", line 1542, in fn_route
    return fn()
  File "/Users/wuyadong/src/ha/utils/web.py", line 587, in __call__
    return self.func(*args)
  File "/Users/wuyadong/src/ha/portal/urls.py", line 132, in redirect
    if authenticate(param['uname'], param['password']):
KeyError: 'uname'
2015-04-22 17:11:33 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:11:33 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x103ac2ed8>),UI>
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:11:33 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:11:33 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:11:33 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:11:33 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:11:33 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:11:33 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:11:33 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:11:33 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 17:11:33 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-22 17:11:33 db.py      [line:175] DEBUG    Init mysql engine <0x103cb3590> ok.
2015-04-22 17:11:33 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:11:33 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 17:11:33 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:11:33 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:11:33 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:11:33 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 17:11:33 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:11:33 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:11:33 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:11:33 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 17:11:33 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:11:33 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:11:33 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:11:33 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 17:11:33 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:11:33 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:11:33 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 17:11:37 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:11:37 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:11:37 db.py      [line:98 ] DEBUG    open connection <0x103d0bd50>...
2015-04-22 17:11:37 db.py      [line:112] DEBUG    close connection <0x103d0bd50>...
2015-04-22 17:11:37 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:11:37 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:11:37 db.py      [line:98 ] DEBUG    open connection <0x103d0bcd0>...
2015-04-22 17:11:37 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:11:37 db.py      [line:112] DEBUG    close connection <0x103d0bcd0>...
2015-04-22 17:11:37 web.py     [line:1336] INFO     return Template
2015-04-22 17:12:25 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:12:52 db.py      [line:350] DEBUG    SQL: select * from user where uname=%s and password=%s, ARGS: ()
2015-04-22 17:13:40 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:13:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x103ac2ed8>),UI>
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:13:40 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:13:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:13:40 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:13:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:13:40 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:13:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:13:40 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:14:38 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:14:38 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x103ac2ed8>),UI>
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:14:38 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:14:38 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:14:38 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:14:38 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:14:38 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:14:38 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:14:38 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:14:38 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 17:14:38 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-22 17:14:38 db.py      [line:175] DEBUG    Init mysql engine <0x103cb4550> ok.
2015-04-22 17:14:38 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:14:38 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 17:14:38 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 17:14:38 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 17:14:38 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:14:38 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 17:14:38 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 17:14:38 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 17:14:38 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:14:38 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 17:14:38 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 17:14:38 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 17:14:38 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:14:38 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 17:14:38 db.py      [line:98 ] DEBUG    open connection <0x103cef150>...
2015-04-22 17:14:38 db.py      [line:112] DEBUG    close connection <0x103cef150>...
2015-04-22 17:14:38 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 17:14:42 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:14:42 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:14:42 db.py      [line:98 ] DEBUG    open connection <0x103d0bd10>...
2015-04-22 17:14:42 db.py      [line:112] DEBUG    close connection <0x103d0bd10>...
2015-04-22 17:14:42 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:14:42 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:14:42 db.py      [line:98 ] DEBUG    open connection <0x103d0bc90>...
2015-04-22 17:14:42 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:14:42 db.py      [line:112] DEBUG    close connection <0x103d0bc90>...
2015-04-22 17:14:42 web.py     [line:1336] INFO     return Template
2015-04-22 17:14:42 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:14:42 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:14:42 db.py      [line:98 ] DEBUG    open connection <0x103d5d690>...
2015-04-22 17:14:42 db.py      [line:112] DEBUG    close connection <0x103d5d690>...
2015-04-22 17:14:42 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:14:42 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:14:42 db.py      [line:98 ] DEBUG    open connection <0x103d5d650>...
2015-04-22 17:14:42 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:14:42 db.py      [line:112] DEBUG    close connection <0x103d5d650>...
2015-04-22 17:14:42 web.py     [line:1336] INFO     return Template
2015-04-22 17:15:01 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:15:01 db.py      [line:350] DEBUG    SQL: select * from user where uname=%s and password=%s, ARGS: (u'ww', u'w')
2015-04-22 17:15:01 db.py      [line:98 ] DEBUG    open connection <0x103d5d990>...
2015-04-22 17:15:01 db.py      [line:112] DEBUG    close connection <0x103d5d990>...
2015-04-22 17:15:23 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:15:23 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x103ac2ed8>),UI>
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:15:23 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:15:23 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:15:23 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:15:23 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:15:23 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:15:23 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:15:23 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:15:23 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 17:15:23 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-22 17:15:24 db.py      [line:175] DEBUG    Init mysql engine <0x103cb3590> ok.
2015-04-22 17:15:24 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:15:24 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 17:15:24 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:15:24 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:15:24 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:15:24 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 17:15:24 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:15:24 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:15:24 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:15:24 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 17:15:24 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:15:24 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:15:24 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:15:24 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 17:15:24 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:15:24 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:15:24 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 17:16:01 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:16:04 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:16:04 db.py      [line:98 ] DEBUG    open connection <0x103d0bd50>...
2015-04-22 17:16:04 db.py      [line:112] DEBUG    close connection <0x103d0bd50>...
2015-04-22 17:16:04 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:16:04 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:16:04 db.py      [line:98 ] DEBUG    open connection <0x103d0bd50>...
2015-04-22 17:16:04 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:16:04 db.py      [line:112] DEBUG    close connection <0x103d0bd50>...
2015-04-22 17:16:04 web.py     [line:1336] INFO     return Template
2015-04-22 17:16:09 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:16:12 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:16:12 db.py      [line:98 ] DEBUG    open connection <0x103d60750>...
2015-04-22 17:16:12 db.py      [line:112] DEBUG    close connection <0x103d60750>...
2015-04-22 17:16:12 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:16:12 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:16:12 db.py      [line:98 ] DEBUG    open connection <0x103d60710>...
2015-04-22 17:16:12 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:16:12 db.py      [line:112] DEBUG    close connection <0x103d60710>...
2015-04-22 17:16:12 web.py     [line:1336] INFO     return Template
2015-04-22 17:16:24 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:16:34 db.py      [line:350] DEBUG    SQL: select * from user where uname=%s and password=%s, ARGS: (u'w', u'w')
2015-04-22 17:16:51 db.py      [line:98 ] DEBUG    open connection <0x103d67990>...
2015-04-22 17:17:04 db.py      [line:112] DEBUG    close connection <0x103d67990>...
2015-04-22 17:19:15 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:19:15 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x1026b9ed8>),UI>
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:19:15 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:19:15 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:19:15 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:19:15 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:19:15 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:19:15 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:19:15 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:19:15 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 17:19:15 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-22 17:19:15 db.py      [line:175] DEBUG    Init mysql engine <0x103cd65d0> ok.
2015-04-22 17:19:15 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:19:15 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 17:19:15 db.py      [line:98 ] DEBUG    open connection <0x103d111d0>...
2015-04-22 17:19:15 db.py      [line:112] DEBUG    close connection <0x103d111d0>...
2015-04-22 17:19:15 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:19:15 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 17:19:15 db.py      [line:98 ] DEBUG    open connection <0x103d111d0>...
2015-04-22 17:19:15 db.py      [line:112] DEBUG    close connection <0x103d111d0>...
2015-04-22 17:19:15 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:19:15 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 17:19:15 db.py      [line:98 ] DEBUG    open connection <0x103d111d0>...
2015-04-22 17:19:15 db.py      [line:112] DEBUG    close connection <0x103d111d0>...
2015-04-22 17:19:15 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:19:15 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 17:19:15 db.py      [line:98 ] DEBUG    open connection <0x103d111d0>...
2015-04-22 17:19:15 db.py      [line:112] DEBUG    close connection <0x103d111d0>...
2015-04-22 17:19:15 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 17:19:21 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:19:30 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:19:31 db.py      [line:98 ] DEBUG    open connection <0x103d4ddd0>...
2015-04-22 17:19:49 db.py      [line:112] DEBUG    close connection <0x103d4ddd0>...
2015-04-22 17:20:19 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:20:19 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:20:19 db.py      [line:98 ] DEBUG    open connection <0x103d4df10>...
2015-04-22 17:20:19 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:20:19 db.py      [line:112] DEBUG    close connection <0x103d4df10>...
2015-04-22 17:20:19 web.py     [line:1336] INFO     return Template
2015-04-22 17:20:19 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:20:21 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:20:21 db.py      [line:98 ] DEBUG    open connection <0x103d89750>...
2015-04-22 17:20:21 db.py      [line:112] DEBUG    close connection <0x103d89750>...
2015-04-22 17:20:21 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:20:21 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:20:21 db.py      [line:98 ] DEBUG    open connection <0x103d896d0>...
2015-04-22 17:20:21 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:20:21 db.py      [line:112] DEBUG    close connection <0x103d896d0>...
2015-04-22 17:20:21 web.py     [line:1336] INFO     return Template
2015-04-22 17:20:41 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:20:48 db.py      [line:350] DEBUG    SQL: select * from user where name=%s and password=%s, ARGS: (u'w', u'w')
2015-04-22 17:20:48 db.py      [line:98 ] DEBUG    open connection <0x102636b90>...
2015-04-22 17:20:50 db.py      [line:112] DEBUG    close connection <0x102636b90>...
2015-04-22 17:24:06 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:24:06 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x103ac2ed8>),UI>
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:24:06 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:24:06 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:24:06 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:24:06 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:24:06 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:24:06 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:24:06 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:24:06 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 17:24:06 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-22 17:24:06 db.py      [line:175] DEBUG    Init mysql engine <0x103cb3590> ok.
2015-04-22 17:24:06 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:24:06 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 17:24:06 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:24:06 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:24:06 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:24:06 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 17:24:06 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:24:06 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:24:06 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:24:06 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 17:24:06 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:24:06 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:24:06 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:24:06 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 17:24:06 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:24:06 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:24:06 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 17:24:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:24:11 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:24:11 db.py      [line:98 ] DEBUG    open connection <0x103d0bd10>...
2015-04-22 17:24:11 db.py      [line:112] DEBUG    close connection <0x103d0bd10>...
2015-04-22 17:24:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:24:11 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:24:11 db.py      [line:98 ] DEBUG    open connection <0x103cef310>...
2015-04-22 17:24:11 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:24:11 db.py      [line:112] DEBUG    close connection <0x103cef310>...
2015-04-22 17:24:11 web.py     [line:1336] INFO     return Template
2015-04-22 17:24:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:24:11 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:24:11 db.py      [line:98 ] DEBUG    open connection <0x103d5d710>...
2015-04-22 17:24:11 db.py      [line:112] DEBUG    close connection <0x103d5d710>...
2015-04-22 17:24:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:24:11 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:24:11 db.py      [line:98 ] DEBUG    open connection <0x103d5d6d0>...
2015-04-22 17:24:11 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:24:11 db.py      [line:112] DEBUG    close connection <0x103d5d6d0>...
2015-04-22 17:24:11 web.py     [line:1336] INFO     return Template
2015-04-22 17:31:10 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:31:10 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x1026b9ed8>),UI>
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:31:10 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:31:10 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:31:10 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:31:10 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:31:10 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:31:10 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:31:10 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:31:10 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 17:31:10 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-22 17:31:10 db.py      [line:175] DEBUG    Init mysql engine <0x103cf0590> ok.
2015-04-22 17:31:10 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:31:10 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 17:31:10 db.py      [line:98 ] DEBUG    open connection <0x103d10190>...
2015-04-22 17:31:10 db.py      [line:112] DEBUG    close connection <0x103d10190>...
2015-04-22 17:31:10 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:31:10 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 17:31:10 db.py      [line:98 ] DEBUG    open connection <0x103d10190>...
2015-04-22 17:31:10 db.py      [line:112] DEBUG    close connection <0x103d10190>...
2015-04-22 17:31:10 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:31:10 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 17:31:10 db.py      [line:98 ] DEBUG    open connection <0x103d10190>...
2015-04-22 17:31:10 db.py      [line:112] DEBUG    close connection <0x103d10190>...
2015-04-22 17:31:10 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:31:10 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 17:31:10 db.py      [line:98 ] DEBUG    open connection <0x103d10190>...
2015-04-22 17:31:10 db.py      [line:112] DEBUG    close connection <0x103d10190>...
2015-04-22 17:31:10 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 17:31:16 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:31:16 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:31:16 db.py      [line:98 ] DEBUG    open connection <0x103d2bd50>...
2015-04-22 17:31:16 db.py      [line:112] DEBUG    close connection <0x103d2bd50>...
2015-04-22 17:31:16 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:31:16 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:31:16 db.py      [line:98 ] DEBUG    open connection <0x103d2bcd0>...
2015-04-22 17:31:16 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:31:16 db.py      [line:112] DEBUG    close connection <0x103d2bcd0>...
2015-04-22 17:31:16 web.py     [line:1336] INFO     return Template
2015-04-22 17:31:17 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:31:17 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:31:17 db.py      [line:98 ] DEBUG    open connection <0x103d7d750>...
2015-04-22 17:31:17 db.py      [line:112] DEBUG    close connection <0x103d7d750>...
2015-04-22 17:31:17 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:31:17 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:31:17 db.py      [line:98 ] DEBUG    open connection <0x103d7d6d0>...
2015-04-22 17:31:17 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:31:17 db.py      [line:112] DEBUG    close connection <0x103d7d6d0>...
2015-04-22 17:31:17 web.py     [line:1336] INFO     return Template
2015-04-22 17:31:50 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:31:50 db.py      [line:453] DEBUG    SQL: insert into `token` (`status`,`uname`,`token`,`password`,`mac`) values (%s,%s,%s,%s,%s), ARGS: (0, u'', 'B9383A848D283D983699A2A5BC12EC3F', u'', '')
2015-04-22 17:31:50 db.py      [line:98 ] DEBUG    open connection <0x103d7dd10>...
2015-04-22 17:31:50 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:31:50 db.py      [line:112] DEBUG    close connection <0x103d7dd10>...
2015-04-22 17:46:56 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:46:56 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x103ac2ed8>),UI>
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:46:56 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:46:56 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:46:56 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:46:56 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:46:56 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:46:56 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:46:56 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:46:56 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 17:46:56 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-22 17:46:56 db.py      [line:175] DEBUG    Init mysql engine <0x103ccc590> ok.
2015-04-22 17:46:56 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:46:56 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 17:46:56 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:46:56 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:46:56 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:46:56 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 17:46:56 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:46:56 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:46:56 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:46:56 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 17:46:56 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:46:56 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:46:56 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:46:56 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 17:46:56 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:46:56 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:46:56 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 17:47:10 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:47:10 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:47:10 db.py      [line:98 ] DEBUG    open connection <0x103d0bd50>...
2015-04-22 17:47:10 db.py      [line:112] DEBUG    close connection <0x103d0bd50>...
2015-04-22 17:47:10 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:47:10 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:47:10 db.py      [line:98 ] DEBUG    open connection <0x103d0bcd0>...
2015-04-22 17:47:10 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:47:10 db.py      [line:112] DEBUG    close connection <0x103d0bcd0>...
2015-04-22 17:47:10 web.py     [line:1336] INFO     return Template
2015-04-22 17:47:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:47:11 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:47:11 db.py      [line:98 ] DEBUG    open connection <0x103d0bb50>...
2015-04-22 17:47:11 db.py      [line:112] DEBUG    close connection <0x103d0bb50>...
2015-04-22 17:47:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:47:11 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:47:11 db.py      [line:98 ] DEBUG    open connection <0x103d0bb50>...
2015-04-22 17:47:11 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:47:11 db.py      [line:112] DEBUG    close connection <0x103d0bb50>...
2015-04-22 17:47:11 web.py     [line:1336] INFO     return Template
2015-04-22 17:47:32 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:47:32 db.py      [line:453] DEBUG    SQL: insert into `token` (`status`,`uname`,`token`,`password`,`mac`) values (%s,%s,%s,%s,%s), ARGS: (0, 'noname', 'B9383A848D283D983699A2A5BC12EC3F', 'noname', '')
2015-04-22 17:47:32 db.py      [line:98 ] DEBUG    open connection <0x103d4f210>...
2015-04-22 17:47:32 db.py      [line:112] DEBUG    close connection <0x103d4f210>...
2015-04-22 17:47:53 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:47:53 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:47:53 db.py      [line:98 ] DEBUG    open connection <0x103d4f390>...
2015-04-22 17:47:53 db.py      [line:112] DEBUG    close connection <0x103d4f390>...
2015-04-22 17:48:07 web.py     [line:1583] ERROR    'Dict' object has no attribute 'address'
Traceback (most recent call last):
  File "/Users/wuyadong/src/ha/utils/web.py", line 1566, in wsgi
    r = fn_exec()
  File "/Users/wuyadong/src/ha/utils/web.py", line 1551, in fn_route
    return fn()
  File "/Users/wuyadong/src/ha/utils/web.py", line 587, in __call__
    return self.func(*args)
  File "/Users/wuyadong/src/ha/portal/urls.py", line 158, in redirect
    gw_url = 'http://{}:{}/wifidog/auth?token={}'.format(gw.address, gw.port, token)
  File "/Users/wuyadong/src/ha/utils/orm.py", line 269, in __getattr__
    raise AttributeError(r"'Dict' object has no attribute '%s'" % key)
AttributeError: 'Dict' object has no attribute 'address'
2015-04-22 17:49:06 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:49:06 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x103ac2ed8>),UI>
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:49:06 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:49:06 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:49:06 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:49:06 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:49:06 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:49:06 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:49:06 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:49:07 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 17:49:07 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-22 17:49:07 db.py      [line:175] DEBUG    Init mysql engine <0x103ccc590> ok.
2015-04-22 17:49:07 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:49:07 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 17:49:07 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:49:07 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:49:07 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:49:07 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 17:49:07 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:49:07 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:49:07 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:49:07 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 17:49:07 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:49:07 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:49:07 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:49:07 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 17:49:07 db.py      [line:98 ] DEBUG    open connection <0x103cef190>...
2015-04-22 17:49:07 db.py      [line:112] DEBUG    close connection <0x103cef190>...
2015-04-22 17:49:07 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 17:49:16 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-22 17:49:16 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x1026b9ed8>),UI>
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-22 17:49:16 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: ap_mac => <StringField:ap_mac,varchar(19),default(),UI>
2015-04-22 17:49:16 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-22 17:49:16 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-22 17:49:16 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:49:16 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-22 17:49:16 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-22 17:49:16 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-22 17:49:16 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-22 17:49:16 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-22 17:49:16 db.py      [line:175] DEBUG    Init mysql engine <0x103cef5d0> ok.
2015-04-22 17:49:16 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:49:16 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-22 17:49:16 db.py      [line:98 ] DEBUG    open connection <0x103d0f1d0>...
2015-04-22 17:49:16 db.py      [line:112] DEBUG    close connection <0x103d0f1d0>...
2015-04-22 17:49:16 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:49:16 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-22 17:49:16 db.py      [line:98 ] DEBUG    open connection <0x103d0f1d0>...
2015-04-22 17:49:16 db.py      [line:112] DEBUG    close connection <0x103d0f1d0>...
2015-04-22 17:49:16 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:49:16 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-22 17:49:16 db.py      [line:98 ] DEBUG    open connection <0x103d0f1d0>...
2015-04-22 17:49:16 db.py      [line:112] DEBUG    close connection <0x103d0f1d0>...
2015-04-22 17:49:16 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:49:16 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-22 17:49:16 db.py      [line:98 ] DEBUG    open connection <0x103d0f1d0>...
2015-04-22 17:49:16 db.py      [line:112] DEBUG    close connection <0x103d0f1d0>...
2015-04-22 17:49:16 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-22 17:49:21 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:49:21 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:49:21 db.py      [line:98 ] DEBUG    open connection <0x103d2cd50>...
2015-04-22 17:49:21 db.py      [line:112] DEBUG    close connection <0x103d2cd50>...
2015-04-22 17:49:21 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:49:21 db.py      [line:453] DEBUG    SQL: update gwinfo set gw_address=%s,gw_port=%s where gw_id=%s, ARGS: (u'192.168.81.1', u'80', u'808100949391')
2015-04-22 17:49:21 db.py      [line:98 ] DEBUG    open connection <0x103d0f350>...
2015-04-22 17:49:21 db.py      [line:460] DEBUG    auto commit
2015-04-22 17:49:21 db.py      [line:112] DEBUG    close connection <0x103d0f350>...
2015-04-22 17:49:21 web.py     [line:1336] INFO     return Template
2015-04-22 17:49:29 db.py      [line:129] DEBUG    open lazy connection...
2015-04-22 17:49:29 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-22 17:49:29 db.py      [line:98 ] DEBUG    open connection <0x103d611d0>...
2015-04-22 17:49:29 db.py      [line:112] DEBUG    close connection <0x103d611d0>...
