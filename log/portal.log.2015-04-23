2015-04-23 10:09:40 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-23 10:09:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x102a4e1b8>),UI>
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-23 10:09:40 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: remark => <StringField:remark,varchar(100),default(),UI>
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: ap_address => <StringField:ap_address,varchar(19),default(),UI>
2015-04-23 10:09:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-23 10:09:40 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-23 10:09:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:09:40 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-23 10:09:40 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-23 10:09:40 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-23 10:09:40 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal)
2015-04-23 10:09:40 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-23 10:09:40 db.py      [line:175] DEBUG    Init mysql engine <0x102e69210> ok.
2015-04-23 10:09:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:09:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-23 10:09:40 db.py      [line:98 ] DEBUG    open connection <0x102f3ab90>...
2015-04-23 10:09:40 db.py      [line:112] DEBUG    close connection <0x102f3ab90>...
2015-04-23 10:09:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:09:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-23 10:09:40 db.py      [line:98 ] DEBUG    open connection <0x102f3ab90>...
2015-04-23 10:09:40 db.py      [line:112] DEBUG    close connection <0x102f3ab90>...
2015-04-23 10:09:40 entity.py  [line:67 ] ERROR    table <apadv> not exist, begin create it
2015-04-23 10:09:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:09:40 db.py      [line:453] DEBUG    SQL: -- generating SQL for apadv:
create table apadv (
  ap_address varchar(19) not null,
  comm_code varchar(42) not null,
  url varchar(100) not null,
  remark varchar(100) not null,
  primary key(ap_address)
);, ARGS: ()
2015-04-23 10:09:40 db.py      [line:98 ] DEBUG    open connection <0x102f3ab50>...
2015-04-23 10:09:40 db.py      [line:460] DEBUG    auto commit
2015-04-23 10:09:40 db.py      [line:112] DEBUG    close connection <0x102f3ab50>...
2015-04-23 10:09:40 entity.py  [line:70 ] INFO     table <apadv> created.
2015-04-23 10:09:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:09:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-23 10:09:40 db.py      [line:98 ] DEBUG    open connection <0x102f3ab50>...
2015-04-23 10:09:40 db.py      [line:112] DEBUG    close connection <0x102f3ab50>...
2015-04-23 10:09:40 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:09:40 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-23 10:09:40 db.py      [line:98 ] DEBUG    open connection <0x102f3ab50>...
2015-04-23 10:09:40 db.py      [line:112] DEBUG    close connection <0x102f3ab50>...
2015-04-23 10:09:40 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-23 10:09:44 web.py     [line:1336] INFO     return Template
2015-04-23 10:09:56 web.py     [line:1336] INFO     return Template
2015-04-23 10:09:56 web.py     [line:1336] INFO     return Template
2015-04-23 10:09:56 web.py     [line:1336] INFO     return Template
2015-04-23 10:09:56 web.py     [line:1336] INFO     return Template
2015-04-23 10:09:57 web.py     [line:1336] INFO     return Template
2015-04-23 10:09:58 web.py     [line:1336] INFO     return Template
2015-04-23 10:10:05 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:10:05 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'123',)
2015-04-23 10:10:05 db.py      [line:98 ] DEBUG    open connection <0x102f93f90>...
2015-04-23 10:10:05 db.py      [line:112] DEBUG    close connection <0x102f93f90>...
2015-04-23 10:10:05 web.py     [line:1336] INFO     return Template
2015-04-23 10:10:59 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:10:59 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-23 10:10:59 db.py      [line:98 ] DEBUG    open connection <0x102f93ad0>...
2015-04-23 10:10:59 db.py      [line:112] DEBUG    close connection <0x102f93ad0>...
2015-04-23 10:10:59 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:10:59 db.py      [line:350] DEBUG    SQL: select * from apadv where ap_address=%s, ARGS: (u'192.168.81.1',)
2015-04-23 10:10:59 db.py      [line:98 ] DEBUG    open connection <0x102f93ad0>...
2015-04-23 10:10:59 db.py      [line:112] DEBUG    close connection <0x102f93ad0>...
2015-04-23 10:10:59 web.py     [line:1336] INFO     return Template
2015-04-23 10:10:59 web.py     [line:1583] ERROR    'ascii' codec can't decode byte 0xe6 in position 0: ordinal not in range(128)
Traceback (most recent call last):
  File "/Users/wuyadong/src/ha/utils/web.py", line 1568, in wsgi
    r = self._template_engine(r.template_name, r.model)
  File "/Users/wuyadong/src/ha/utils/web.py", line 1293, in __call__
    return self._env.get_template(path).render(**model).encode('utf-8')
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/Jinja2-2.7.3-py2.7.egg/jinja2/environment.py", line 969, in render
    return self.environment.handle_exception(exc_info, True)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/Jinja2-2.7.3-py2.7.egg/jinja2/environment.py", line 742, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "/Users/wuyadong/src/ha/portal/templates/portal.html", line 1, in top-level template code
    {% extends '__base__.html' %}
  File "/Users/wuyadong/src/ha/portal/templates/__base__.html", line 53, in top-level template code
    {% block content %}
  File "/Users/wuyadong/src/ha/portal/templates/portal.html", line 18, in block "content"
    <p>AP广告信息：{{ info[2] }}</p>
UnicodeDecodeError: 'ascii' codec can't decode byte 0xe6 in position 0: ordinal not in range(128)
2015-04-23 10:11:15 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-23 10:11:15 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x10224d1b8>),UI>
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-23 10:11:15 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: remark => <StringField:remark,varchar(100),default(),UI>
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: ap_address => <StringField:ap_address,varchar(19),default(),UI>
2015-04-23 10:11:15 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-23 10:11:15 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-23 10:11:15 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:11:15 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-23 10:11:15 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-23 10:11:15 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-23 10:11:16 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal)
2015-04-23 10:11:16 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-23 10:11:16 db.py      [line:175] DEBUG    Init mysql engine <0x1026681d0> ok.
2015-04-23 10:11:16 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:11:16 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-23 10:11:16 db.py      [line:98 ] DEBUG    open connection <0x10273ab50>...
2015-04-23 10:11:16 db.py      [line:112] DEBUG    close connection <0x10273ab50>...
2015-04-23 10:11:16 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:11:16 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-23 10:11:16 db.py      [line:98 ] DEBUG    open connection <0x10273ab50>...
2015-04-23 10:11:16 db.py      [line:112] DEBUG    close connection <0x10273ab50>...
2015-04-23 10:11:16 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:11:16 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-23 10:11:16 db.py      [line:98 ] DEBUG    open connection <0x10273ab50>...
2015-04-23 10:11:16 db.py      [line:112] DEBUG    close connection <0x10273ab50>...
2015-04-23 10:11:16 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:11:16 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-23 10:11:16 db.py      [line:98 ] DEBUG    open connection <0x10273ab50>...
2015-04-23 10:11:16 db.py      [line:112] DEBUG    close connection <0x10273ab50>...
2015-04-23 10:11:16 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-23 10:11:21 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:11:21 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-23 10:11:21 db.py      [line:98 ] DEBUG    open connection <0x10276e190>...
2015-04-23 10:11:21 db.py      [line:112] DEBUG    close connection <0x10276e190>...
2015-04-23 10:11:21 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:11:21 db.py      [line:350] DEBUG    SQL: select * from apadv where ap_address=%s, ARGS: (u'192.168.81.1',)
2015-04-23 10:11:21 db.py      [line:98 ] DEBUG    open connection <0x10276e150>...
2015-04-23 10:11:21 db.py      [line:112] DEBUG    close connection <0x10276e150>...
2015-04-23 10:11:21 web.py     [line:1336] INFO     return Template
2015-04-23 10:12:58 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:12:58 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-23 10:12:58 db.py      [line:98 ] DEBUG    open connection <0x10276e350>...
2015-04-23 10:12:58 db.py      [line:112] DEBUG    close connection <0x10276e350>...
2015-04-23 10:12:58 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:12:58 db.py      [line:350] DEBUG    SQL: select * from apadv where ap_address=%s, ARGS: (u'192.168.81.1',)
2015-04-23 10:12:58 db.py      [line:98 ] DEBUG    open connection <0x10276e350>...
2015-04-23 10:12:58 db.py      [line:112] DEBUG    close connection <0x10276e350>...
2015-04-23 10:12:58 web.py     [line:1583] ERROR    'Dict' object has no attribute 'remark'
Traceback (most recent call last):
  File "/Users/wuyadong/src/ha/utils/web.py", line 1566, in wsgi
    r = fn_exec()
  File "/Users/wuyadong/src/ha/utils/web.py", line 1542, in fn_route
    return fn()
  File "/Users/wuyadong/src/ha/utils/web.py", line 587, in __call__
    return self.func(*args)
  File "/Users/wuyadong/src/ha/portal/urls.py", line 227, in portal2
    return portal()
  File "/Users/wuyadong/src/ha/utils/web.py", line 1334, in _wrapper
    r = func(*args, **kw)
  File "/Users/wuyadong/src/ha/portal/urls.py", line 220, in portal
    note = gw.remark
  File "/Users/wuyadong/src/ha/utils/orm.py", line 269, in __getattr__
    raise AttributeError(r"'Dict' object has no attribute '%s'" % key)
AttributeError: 'Dict' object has no attribute 'remark'
2015-04-23 10:13:45 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-23 10:13:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x102a4d1b8>),UI>
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-23 10:13:45 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: remark => <StringField:remark,varchar(100),default(),UI>
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: ap_address => <StringField:ap_address,varchar(19),default(),UI>
2015-04-23 10:13:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-23 10:13:45 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-23 10:13:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:13:45 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-23 10:13:45 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-23 10:13:45 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-23 10:13:45 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal)
2015-04-23 10:13:45 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-23 10:13:45 db.py      [line:175] DEBUG    Init mysql engine <0x102e681d0> ok.
2015-04-23 10:13:45 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:13:45 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-23 10:13:45 db.py      [line:98 ] DEBUG    open connection <0x102f3ab50>...
2015-04-23 10:13:45 db.py      [line:112] DEBUG    close connection <0x102f3ab50>...
2015-04-23 10:13:45 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:13:45 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-23 10:13:45 db.py      [line:98 ] DEBUG    open connection <0x102f3ab50>...
2015-04-23 10:13:45 db.py      [line:112] DEBUG    close connection <0x102f3ab50>...
2015-04-23 10:13:45 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:13:45 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-23 10:13:45 db.py      [line:98 ] DEBUG    open connection <0x102f3ab50>...
2015-04-23 10:13:45 db.py      [line:112] DEBUG    close connection <0x102f3ab50>...
2015-04-23 10:13:45 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:13:45 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-23 10:13:45 db.py      [line:98 ] DEBUG    open connection <0x102f3ab50>...
2015-04-23 10:13:45 db.py      [line:112] DEBUG    close connection <0x102f3ab50>...
2015-04-23 10:13:45 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
2015-04-23 10:13:49 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:13:49 db.py      [line:350] DEBUG    SQL: select * from gwinfo where gw_id=%s, ARGS: (u'808100949391',)
2015-04-23 10:13:49 db.py      [line:98 ] DEBUG    open connection <0x102f6e1d0>...
2015-04-23 10:13:49 db.py      [line:112] DEBUG    close connection <0x102f6e1d0>...
2015-04-23 10:13:49 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 10:13:49 db.py      [line:350] DEBUG    SQL: select * from apadv where ap_address=%s, ARGS: (u'192.168.81.1',)
2015-04-23 10:13:49 db.py      [line:98 ] DEBUG    open connection <0x102f6e190>...
2015-04-23 10:13:49 db.py      [line:112] DEBUG    close connection <0x102f6e190>...
2015-04-23 10:13:49 web.py     [line:1336] INFO     return Template
2015-04-23 14:04:11 orm.py     [line:177] DEBUG    Scan ORMapping User...
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: name => <StringField:name,varchar(50),default(),UI>
2015-04-23 14:04:11 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: passwd => <StringField:passwd,varchar(50),default(<function <lambda> at 0x102a4e1b8>),UI>
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: last_modified => <FloatField:last_modified,real,default(0.0),UI>
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: email => <StringField:email,varchar(50),default(),UI>
2015-04-23 14:04:11 orm.py     [line:177] DEBUG    Scan ORMapping APAdv...
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: url => <StringField:url,varchar(100),default(),UI>
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: remark => <StringField:remark,varchar(100),default(),UI>
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: ap_address => <StringField:ap_address,varchar(19),default(),UI>
2015-04-23 14:04:11 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: comm_code => <StringField:comm_code,varchar(42),default(),UI>
2015-04-23 14:04:11 orm.py     [line:177] DEBUG    Scan ORMapping GWInfo...
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: gw_address => <StringField:gw_address,varchar(15),default(),UI>
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: gw_port => <StringField:gw_port,varchar(10),default(),UI>
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: gw_id => <StringField:gw_id,varchar(19),default(),UI>
2015-04-23 14:04:11 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 14:04:11 orm.py     [line:177] DEBUG    Scan ORMapping Token...
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: status => <TinyIntegerField:status,tinyint,default(0),UI>
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: token => <StringField:token,varchar(42),default(),UI>
2015-04-23 14:04:11 orm.py     [line:190] DEBUG    NOTE: change primary key to non-updatable.
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: uname => <StringField:uname,varchar(42),default(),UI>
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: mac => <StringField:mac,varchar(19),default(),UI>
2015-04-23 14:04:11 orm.py     [line:184] DEBUG    Found mapping: password => <StringField:password,varchar(42),default(),UI>
2015-04-23 14:04:11 web.py     [line:1495] INFO     Add module: portal.urls
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth/)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/auth)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/help/)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/hello/)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/login/)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/noauth)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/ping/)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal/)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,GET,path=/portal)
2015-04-23 14:04:11 web.py     [line:1514] INFO     Add route: Route(static,POST,path=/redirect/)
2015-04-23 14:04:11 db.py      [line:175] DEBUG    Init mysql engine <0x102e681d0> ok.
2015-04-23 14:04:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 14:04:11 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='user', ARGS: ()
2015-04-23 14:04:11 db.py      [line:98 ] DEBUG    open connection <0x102f3ab50>...
2015-04-23 14:04:11 db.py      [line:112] DEBUG    close connection <0x102f3ab50>...
2015-04-23 14:04:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 14:04:11 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='apadv', ARGS: ()
2015-04-23 14:04:11 db.py      [line:98 ] DEBUG    open connection <0x102f3ab50>...
2015-04-23 14:04:11 db.py      [line:112] DEBUG    close connection <0x102f3ab50>...
2015-04-23 14:04:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 14:04:11 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='gwinfo', ARGS: ()
2015-04-23 14:04:11 db.py      [line:98 ] DEBUG    open connection <0x102f3ab50>...
2015-04-23 14:04:11 db.py      [line:112] DEBUG    close connection <0x102f3ab50>...
2015-04-23 14:04:11 db.py      [line:129] DEBUG    open lazy connection...
2015-04-23 14:04:11 db.py      [line:350] DEBUG    SQL: select count(table_name) from INFORMATION_SCHEMA.tables where TABLE_SCHEMA='portal' and table_name='token', ARGS: ()
2015-04-23 14:04:11 db.py      [line:98 ] DEBUG    open connection <0x102f3ab50>...
2015-04-23 14:04:11 db.py      [line:112] DEBUG    close connection <0x102f3ab50>...
2015-04-23 14:04:11 web.py     [line:1524] INFO     application (/Users/wuyadong/src/ha/portal) will start at 0.0.0.0:8899...
